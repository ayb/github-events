[
  {
    "id": "6982670215",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 987638,
      "login": "y-yagi",
      "display_login": "y-yagi",
      "gravatar_id": "",
      "url": "https://api.github.com/users/y-yagi",
      "avatar_url": "https://avatars.githubusercontent.com/u/987638?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31396",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31396/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31396/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31396/events",
        "html_url": "https://github.com/rails/rails/issues/31396",
        "id": 281026779,
        "number": 31396,
        "title": "Rails.env interpretation by config_for",
        "user": {
          "login": "qutorial",
          "id": 1850570,
          "avatar_url": "https://avatars3.githubusercontent.com/u/1850570?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/qutorial",
          "html_url": "https://github.com/qutorial",
          "followers_url": "https://api.github.com/users/qutorial/followers",
          "following_url": "https://api.github.com/users/qutorial/following{/other_user}",
          "gists_url": "https://api.github.com/users/qutorial/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/qutorial/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/qutorial/subscriptions",
          "organizations_url": "https://api.github.com/users/qutorial/orgs",
          "repos_url": "https://api.github.com/users/qutorial/repos",
          "events_url": "https://api.github.com/users/qutorial/events{/privacy}",
          "received_events_url": "https://api.github.com/users/qutorial/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 8,
        "created_at": "2017-12-11T14:01:32Z",
        "updated_at": "2017-12-13T12:45:31Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "### Steps to reproduce\r\n\r\nCreate a file\r\n\r\nconfig/sample.yml  like this:\r\n\r\ndevelopment:\r\n  database: dev\r\n\r\ntest:\r\n  database: foo\r\n\r\n\r\nIn config/application.rb add this line:\r\n  \r\n   config.sample = config_for(:sample)\r\n\r\nRun console like this with mistake:\r\n\r\nrails console --environment test\r\n\r\nmistake is that no = sign is used before the word test, but a space instead\r\n\r\nThen in console:\r\nRails.configuration.sample\r\n => {\"database\"=>\"dev\"}\r\n\r\nbut\r\n\r\nRails.env\r\n => \"test\"\r\n\r\n\r\n\r\n### Expected behavior\r\nRails.configuration.sample\r\n => {\"database\"=>\"test\"}\r\n\r\nor an error message when running console\r\n\r\n### Actual behavior\r\nRails.configuration.sample\r\n => {\"database\"=>\"dev\"}\r\n\r\n### System configuration\r\n\r\nruby 2.3.1p112 \r\n\r\nrails 5.1.1\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351380840",
        "html_url": "https://github.com/rails/rails/issues/31396#issuecomment-351380840",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31396",
        "id": 351380840,
        "user": {
          "login": "y-yagi",
          "id": 987638,
          "avatar_url": "https://avatars1.githubusercontent.com/u/987638?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/y-yagi",
          "html_url": "https://github.com/y-yagi",
          "followers_url": "https://api.github.com/users/y-yagi/followers",
          "following_url": "https://api.github.com/users/y-yagi/following{/other_user}",
          "gists_url": "https://api.github.com/users/y-yagi/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/y-yagi/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/y-yagi/subscriptions",
          "organizations_url": "https://api.github.com/users/y-yagi/orgs",
          "repos_url": "https://api.github.com/users/y-yagi/repos",
          "events_url": "https://api.github.com/users/y-yagi/events{/privacy}",
          "received_events_url": "https://api.github.com/users/y-yagi/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T12:45:31Z",
        "updated_at": "2017-12-13T12:45:31Z",
        "author_association": "MEMBER",
        "body": "Please create a issue to [spring](https://github.com/rails/spring).\r\n\r\nAlso, if you are interested, can you make a PR?  \r\n\r\nI think probably need to fix the following lines. \r\nhttps://github.com/rails/spring/blob/f0d2d65afd715cb0103af9e31ecfcee7f2d2c825/lib/spring/commands/rails.rb#L21\r\nhttps://github.com/rails/spring/blob/f0d2d65afd715cb0103af9e31ecfcee7f2d2c825/lib/spring/commands/rails.rb#L69\r\nhttps://github.com/rails/spring/blob/f0d2d65afd715cb0103af9e31ecfcee7f2d2c825/lib/spring/commands/rails.rb#L91\r\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T12:45:32Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982639504",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 1850570,
      "login": "qutorial",
      "display_login": "qutorial",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qutorial",
      "avatar_url": "https://avatars.githubusercontent.com/u/1850570?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31396",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31396/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31396/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31396/events",
        "html_url": "https://github.com/rails/rails/issues/31396",
        "id": 281026779,
        "number": 31396,
        "title": "Rails.env interpretation by config_for",
        "user": {
          "login": "qutorial",
          "id": 1850570,
          "avatar_url": "https://avatars3.githubusercontent.com/u/1850570?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/qutorial",
          "html_url": "https://github.com/qutorial",
          "followers_url": "https://api.github.com/users/qutorial/followers",
          "following_url": "https://api.github.com/users/qutorial/following{/other_user}",
          "gists_url": "https://api.github.com/users/qutorial/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/qutorial/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/qutorial/subscriptions",
          "organizations_url": "https://api.github.com/users/qutorial/orgs",
          "repos_url": "https://api.github.com/users/qutorial/repos",
          "events_url": "https://api.github.com/users/qutorial/events{/privacy}",
          "received_events_url": "https://api.github.com/users/qutorial/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 7,
        "created_at": "2017-12-11T14:01:32Z",
        "updated_at": "2017-12-13T12:38:43Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "### Steps to reproduce\r\n\r\nCreate a file\r\n\r\nconfig/sample.yml  like this:\r\n\r\ndevelopment:\r\n  database: dev\r\n\r\ntest:\r\n  database: foo\r\n\r\n\r\nIn config/application.rb add this line:\r\n  \r\n   config.sample = config_for(:sample)\r\n\r\nRun console like this with mistake:\r\n\r\nrails console --environment test\r\n\r\nmistake is that no = sign is used before the word test, but a space instead\r\n\r\nThen in console:\r\nRails.configuration.sample\r\n => {\"database\"=>\"dev\"}\r\n\r\nbut\r\n\r\nRails.env\r\n => \"test\"\r\n\r\n\r\n\r\n### Expected behavior\r\nRails.configuration.sample\r\n => {\"database\"=>\"test\"}\r\n\r\nor an error message when running console\r\n\r\n### Actual behavior\r\nRails.configuration.sample\r\n => {\"database\"=>\"dev\"}\r\n\r\n### System configuration\r\n\r\nruby 2.3.1p112 \r\n\r\nrails 5.1.1\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351379303",
        "html_url": "https://github.com/rails/rails/issues/31396#issuecomment-351379303",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31396",
        "id": 351379303,
        "user": {
          "login": "qutorial",
          "id": 1850570,
          "avatar_url": "https://avatars3.githubusercontent.com/u/1850570?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/qutorial",
          "html_url": "https://github.com/qutorial",
          "followers_url": "https://api.github.com/users/qutorial/followers",
          "following_url": "https://api.github.com/users/qutorial/following{/other_user}",
          "gists_url": "https://api.github.com/users/qutorial/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/qutorial/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/qutorial/subscriptions",
          "organizations_url": "https://api.github.com/users/qutorial/orgs",
          "repos_url": "https://api.github.com/users/qutorial/repos",
          "events_url": "https://api.github.com/users/qutorial/events{/privacy}",
          "received_events_url": "https://api.github.com/users/qutorial/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T12:38:43Z",
        "updated_at": "2017-12-13T12:38:43Z",
        "author_association": "NONE",
        "body": "Ok. What are the next steps? \r\nCan I help in some way?\r\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T12:38:43Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982596286",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 1034,
      "login": "matthewd",
      "display_login": "matthewd",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewd",
      "avatar_url": "https://avatars.githubusercontent.com/u/1034?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 13,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T12:28:54Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351377198",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351377198",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351377198,
        "user": {
          "login": "matthewd",
          "id": 1034,
          "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/matthewd",
          "html_url": "https://github.com/matthewd",
          "followers_url": "https://api.github.com/users/matthewd/followers",
          "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
          "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
          "organizations_url": "https://api.github.com/users/matthewd/orgs",
          "repos_url": "https://api.github.com/users/matthewd/repos",
          "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
          "received_events_url": "https://api.github.com/users/matthewd/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T12:28:54Z",
        "updated_at": "2017-12-13T12:28:54Z",
        "author_association": "OWNER",
        "body": "Thread-safe, and \"not let WeakRef::RefError escape, no matter when the GC runs\"-safe. Mentioned because I suspect doing the obvious thing for one might create issues on the other.\r\n\r\nWe'll also need to check what the existing test coverage looks like, especially as it's likely impractical to test the actual weak part."
      }
    },
    "public": true,
    "created_at": "2017-12-13T12:28:54Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982589103",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 987638,
      "login": "y-yagi",
      "display_login": "y-yagi",
      "gravatar_id": "",
      "url": "https://api.github.com/users/y-yagi",
      "avatar_url": "https://avatars.githubusercontent.com/u/987638?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31396",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31396/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31396/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31396/events",
        "html_url": "https://github.com/rails/rails/issues/31396",
        "id": 281026779,
        "number": 31396,
        "title": "Rails.env interpretation by config_for",
        "user": {
          "login": "qutorial",
          "id": 1850570,
          "avatar_url": "https://avatars3.githubusercontent.com/u/1850570?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/qutorial",
          "html_url": "https://github.com/qutorial",
          "followers_url": "https://api.github.com/users/qutorial/followers",
          "following_url": "https://api.github.com/users/qutorial/following{/other_user}",
          "gists_url": "https://api.github.com/users/qutorial/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/qutorial/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/qutorial/subscriptions",
          "organizations_url": "https://api.github.com/users/qutorial/orgs",
          "repos_url": "https://api.github.com/users/qutorial/repos",
          "events_url": "https://api.github.com/users/qutorial/events{/privacy}",
          "received_events_url": "https://api.github.com/users/qutorial/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 6,
        "created_at": "2017-12-11T14:01:32Z",
        "updated_at": "2017-12-13T12:27:12Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "### Steps to reproduce\r\n\r\nCreate a file\r\n\r\nconfig/sample.yml  like this:\r\n\r\ndevelopment:\r\n  database: dev\r\n\r\ntest:\r\n  database: foo\r\n\r\n\r\nIn config/application.rb add this line:\r\n  \r\n   config.sample = config_for(:sample)\r\n\r\nRun console like this with mistake:\r\n\r\nrails console --environment test\r\n\r\nmistake is that no = sign is used before the word test, but a space instead\r\n\r\nThen in console:\r\nRails.configuration.sample\r\n => {\"database\"=>\"dev\"}\r\n\r\nbut\r\n\r\nRails.env\r\n => \"test\"\r\n\r\n\r\n\r\n### Expected behavior\r\nRails.configuration.sample\r\n => {\"database\"=>\"test\"}\r\n\r\nor an error message when running console\r\n\r\n### Actual behavior\r\nRails.configuration.sample\r\n => {\"database\"=>\"dev\"}\r\n\r\n### System configuration\r\n\r\nruby 2.3.1p112 \r\n\r\nrails 5.1.1\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351376810",
        "html_url": "https://github.com/rails/rails/issues/31396#issuecomment-351376810",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31396",
        "id": 351376810,
        "user": {
          "login": "y-yagi",
          "id": 987638,
          "avatar_url": "https://avatars1.githubusercontent.com/u/987638?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/y-yagi",
          "html_url": "https://github.com/y-yagi",
          "followers_url": "https://api.github.com/users/y-yagi/followers",
          "following_url": "https://api.github.com/users/y-yagi/following{/other_user}",
          "gists_url": "https://api.github.com/users/y-yagi/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/y-yagi/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/y-yagi/subscriptions",
          "organizations_url": "https://api.github.com/users/y-yagi/orgs",
          "repos_url": "https://api.github.com/users/y-yagi/repos",
          "events_url": "https://api.github.com/users/y-yagi/events{/privacy}",
          "received_events_url": "https://api.github.com/users/y-yagi/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T12:27:12Z",
        "updated_at": "2017-12-13T12:27:12Z",
        "author_association": "MEMBER",
        "body": "Thank you for providing sample application. \r\nSpring seems to be unable to correctly parse the long option. \r\n\r\n```\r\n$ export DISABLE_SPRING=1\r\n$ ./bin/rails r --environment test 'p Rails.env; p Rails.configuration.sample'\r\n\"test\"\r\n{\"database\"=>\"test\"}\r\n$ export DISABLE_SPRING=0\r\n$ ./bin/rails r --environment test 'p Rails.env; p Rails.configuration.sample'\r\nRunning via Spring preloader in process 8488\r\n\"development\"\r\n{\"database\"=>\"dev\"} \r\n```\r\n\r\n\r\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T12:27:12Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982584852",
    "type": "IssuesEvent",
    "actor": {
      "id": 8155,
      "login": "ebeigarts",
      "display_login": "ebeigarts",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebeigarts",
      "avatar_url": "https://avatars.githubusercontent.com/u/8155?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "reopened",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 13,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T12:26:12Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T12:26:12Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982584403",
    "type": "IssuesEvent",
    "actor": {
      "id": 8155,
      "login": "ebeigarts",
      "display_login": "ebeigarts",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebeigarts",
      "avatar_url": "https://avatars.githubusercontent.com/u/8155?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "closed",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 13,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T12:26:05Z",
        "closed_at": "2017-12-13T12:26:05Z",
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T12:26:06Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982549369",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 8155,
      "login": "ebeigarts",
      "display_login": "ebeigarts",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebeigarts",
      "avatar_url": "https://avatars.githubusercontent.com/u/8155?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 12,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T12:17:32Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351374821",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351374821",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351374821,
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T12:17:32Z",
        "updated_at": "2017-12-13T12:17:32Z",
        "author_association": "CONTRIBUTOR",
        "body": "By `race-free` do you mean threadsafe or something else?\r\n\r\nI have found https://github.com/ruby-concurrency/ref and it states that `MRI Ruby 2.0+ has a good implementation of WeakRef`.\r\n\r\nI could create a PR with WeakRef from stdlib and do some benchmarks. How that sounds? Is there anything else I should know?"
      }
    },
    "public": true,
    "created_at": "2017-12-13T12:17:32Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982477044",
    "type": "WatchEvent",
    "actor": {
      "id": 10913677,
      "login": "dhurimkelmendi",
      "display_login": "dhurimkelmendi",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhurimkelmendi",
      "avatar_url": "https://avatars.githubusercontent.com/u/10913677?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "started"
    },
    "public": true,
    "created_at": "2017-12-13T12:00:15Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982458228",
    "type": "PullRequestReviewCommentEvent",
    "actor": {
      "id": 26460,
      "login": "sobrinho",
      "display_login": "sobrinho",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sobrinho",
      "avatar_url": "https://avatars.githubusercontent.com/u/26460?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/pulls/comments/156638026",
        "pull_request_review_id": 83146072,
        "id": 156638026,
        "diff_hunk": "@@ -34,6 +46,76 @@ def setup\n   include EncodedKeyCacheBehavior\n   include AutoloadingCacheBehavior\n \n+  def test_connection_pool\n+    emulating_latency do\n+      begin\n+        mutex = Mutex.new\n+        cache = ActiveSupport::Cache.lookup_store(:mem_cache_store, pool_size: 1, pool_timeout: 1)\n+        cache.clear\n+\n+        thread = Thread.new {\n+          mutex.synchronize {\n+            cache.read(\"latency\")\n+          }\n+        }\n+\n+        # This is an alternative to Thread.pass because, according to Ruby's\n+        # documentation, it may or may not pass the execution to another thread.\n+        #\n+        # Since we can't predict how much time is needed to the thread start\n+        # working, we simply wait for its preemption by checking if the mutex\n+        # has been acquired.\n+        #\n+        # This is necessary because we want the read of the previous thread to\n+        # happen before the below read.\n+        loop do\n+          break if mutex.locked?",
        "path": "activesupport/test/cache/stores/mem_cache_store_test.rb",
        "position": null,
        "original_position": 46,
        "commit_id": "e874248bbd39d627303c2ae7c22e8c0d62a4e465",
        "original_commit_id": "03836b992b3bee448dafa5bf8d84df0958321796",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "@matthewd take a look now, using `Thread#join` will prevent this problem at all.",
        "created_at": "2017-12-13T11:55:44Z",
        "updated_at": "2017-12-13T11:55:44Z",
        "html_url": "https://github.com/rails/rails/pull/31424#discussion_r156638026",
        "pull_request_url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "author_association": "CONTRIBUTOR",
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments/156638026"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424#discussion_r156638026"
          },
          "pull_request": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          }
        },
        "in_reply_to_id": 156571673
      },
      "pull_request": {
        "url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "id": 157983310,
        "html_url": "https://github.com/rails/rails/pull/31424",
        "diff_url": "https://github.com/rails/rails/pull/31424.diff",
        "patch_url": "https://github.com/rails/rails/pull/31424.patch",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31424",
        "number": 31424,
        "state": "open",
        "locked": false,
        "title": "Support for connection pooling on mem cache store",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "This will keep Memcached connection limit under control for large-scale applications.",
        "created_at": "2017-12-13T01:37:29Z",
        "updated_at": "2017-12-13T11:55:44Z",
        "closed_at": null,
        "merged_at": null,
        "merge_commit_sha": "898cbdffd8223c8b7aef8efb80cb5249d8e84e5b",
        "assignee": {
          "login": "pixeltrix",
          "id": 6321,
          "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pixeltrix",
          "html_url": "https://github.com/pixeltrix",
          "followers_url": "https://api.github.com/users/pixeltrix/followers",
          "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
          "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
          "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
          "repos_url": "https://api.github.com/users/pixeltrix/repos",
          "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
          "type": "User",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "pixeltrix",
            "id": 6321,
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pixeltrix",
            "html_url": "https://github.com/pixeltrix",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "type": "User",
            "site_admin": false
          }
        ],
        "requested_reviewers": [

        ],
        "milestone": null,
        "commits_url": "https://api.github.com/repos/rails/rails/pulls/31424/commits",
        "review_comments_url": "https://api.github.com/repos/rails/rails/pulls/31424/comments",
        "review_comment_url": "https://api.github.com/repos/rails/rails/pulls/comments{/number}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31424/comments",
        "statuses_url": "https://api.github.com/repos/rails/rails/statuses/e874248bbd39d627303c2ae7c22e8c0d62a4e465",
        "head": {
          "label": "sobrinho:sobrinho/connection-pool-memcache",
          "ref": "sobrinho/connection-pool-memcache",
          "sha": "e874248bbd39d627303c2ae7c22e8c0d62a4e465",
          "user": {
            "login": "sobrinho",
            "id": 26460,
            "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobrinho",
            "html_url": "https://github.com/sobrinho",
            "followers_url": "https://api.github.com/users/sobrinho/followers",
            "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
            "organizations_url": "https://api.github.com/users/sobrinho/orgs",
            "repos_url": "https://api.github.com/users/sobrinho/repos",
            "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobrinho/received_events",
            "type": "User",
            "site_admin": false
          },
          "repo": {
            "id": 6582415,
            "name": "rails",
            "full_name": "sobrinho/rails",
            "owner": {
              "login": "sobrinho",
              "id": 26460,
              "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/sobrinho",
              "html_url": "https://github.com/sobrinho",
              "followers_url": "https://api.github.com/users/sobrinho/followers",
              "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
              "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
              "organizations_url": "https://api.github.com/users/sobrinho/orgs",
              "repos_url": "https://api.github.com/users/sobrinho/repos",
              "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
              "received_events_url": "https://api.github.com/users/sobrinho/received_events",
              "type": "User",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/sobrinho/rails",
            "description": "Ruby on Rails",
            "fork": true,
            "url": "https://api.github.com/repos/sobrinho/rails",
            "forks_url": "https://api.github.com/repos/sobrinho/rails/forks",
            "keys_url": "https://api.github.com/repos/sobrinho/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/sobrinho/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/sobrinho/rails/teams",
            "hooks_url": "https://api.github.com/repos/sobrinho/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/sobrinho/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/sobrinho/rails/events",
            "assignees_url": "https://api.github.com/repos/sobrinho/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/sobrinho/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/sobrinho/rails/tags",
            "blobs_url": "https://api.github.com/repos/sobrinho/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/sobrinho/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/sobrinho/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/sobrinho/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/sobrinho/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/sobrinho/rails/languages",
            "stargazers_url": "https://api.github.com/repos/sobrinho/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/sobrinho/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/sobrinho/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/sobrinho/rails/subscription",
            "commits_url": "https://api.github.com/repos/sobrinho/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/sobrinho/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/sobrinho/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/sobrinho/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/sobrinho/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/sobrinho/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/sobrinho/rails/merges",
            "archive_url": "https://api.github.com/repos/sobrinho/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/sobrinho/rails/downloads",
            "issues_url": "https://api.github.com/repos/sobrinho/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/sobrinho/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/sobrinho/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/sobrinho/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/sobrinho/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/sobrinho/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/sobrinho/rails/deployments",
            "created_at": "2012-11-07T16:36:11Z",
            "updated_at": "2015-03-10T00:47:37Z",
            "pushed_at": "2017-12-13T11:55:14Z",
            "git_url": "git://github.com/sobrinho/rails.git",
            "ssh_url": "git@github.com:sobrinho/rails.git",
            "clone_url": "https://github.com/sobrinho/rails.git",
            "svn_url": "https://github.com/sobrinho/rails",
            "homepage": "http://rubyonrails.org",
            "size": 151991,
            "stargazers_count": 0,
            "watchers_count": 0,
            "language": "Ruby",
            "has_issues": false,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 0,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 0,
            "license": null,
            "forks": 0,
            "open_issues": 0,
            "watchers": 0,
            "default_branch": "master"
          }
        },
        "base": {
          "label": "rails:master",
          "ref": "master",
          "sha": "9d43a84f73c1b3853a91d052a462ee60eccaf957",
          "user": {
            "login": "rails",
            "id": 4223,
            "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rails",
            "html_url": "https://github.com/rails",
            "followers_url": "https://api.github.com/users/rails/followers",
            "following_url": "https://api.github.com/users/rails/following{/other_user}",
            "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
            "organizations_url": "https://api.github.com/users/rails/orgs",
            "repos_url": "https://api.github.com/users/rails/repos",
            "events_url": "https://api.github.com/users/rails/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rails/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "repo": {
            "id": 8514,
            "name": "rails",
            "full_name": "rails/rails",
            "owner": {
              "login": "rails",
              "id": 4223,
              "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/rails",
              "html_url": "https://github.com/rails",
              "followers_url": "https://api.github.com/users/rails/followers",
              "following_url": "https://api.github.com/users/rails/following{/other_user}",
              "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
              "organizations_url": "https://api.github.com/users/rails/orgs",
              "repos_url": "https://api.github.com/users/rails/repos",
              "events_url": "https://api.github.com/users/rails/events{/privacy}",
              "received_events_url": "https://api.github.com/users/rails/received_events",
              "type": "Organization",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/rails/rails",
            "description": "Ruby on Rails",
            "fork": false,
            "url": "https://api.github.com/repos/rails/rails",
            "forks_url": "https://api.github.com/repos/rails/rails/forks",
            "keys_url": "https://api.github.com/repos/rails/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/rails/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/rails/rails/teams",
            "hooks_url": "https://api.github.com/repos/rails/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/rails/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/rails/rails/events",
            "assignees_url": "https://api.github.com/repos/rails/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/rails/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/rails/rails/tags",
            "blobs_url": "https://api.github.com/repos/rails/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/rails/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/rails/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/rails/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/rails/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/rails/rails/languages",
            "stargazers_url": "https://api.github.com/repos/rails/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/rails/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/rails/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/rails/rails/subscription",
            "commits_url": "https://api.github.com/repos/rails/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/rails/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/rails/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/rails/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/rails/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/rails/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/rails/rails/merges",
            "archive_url": "https://api.github.com/repos/rails/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/rails/rails/downloads",
            "issues_url": "https://api.github.com/repos/rails/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/rails/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/rails/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/rails/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/rails/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/rails/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/rails/rails/deployments",
            "created_at": "2008-04-11T02:19:47Z",
            "updated_at": "2017-12-13T04:02:33Z",
            "pushed_at": "2017-12-13T11:55:33Z",
            "git_url": "git://github.com/rails/rails.git",
            "ssh_url": "git@github.com:rails/rails.git",
            "clone_url": "https://github.com/rails/rails.git",
            "svn_url": "https://github.com/rails/rails",
            "homepage": "http://rubyonrails.org",
            "size": 157794,
            "stargazers_count": 37952,
            "watchers_count": 37952,
            "language": "Ruby",
            "has_issues": true,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 15440,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 1110,
            "license": {
              "key": "mit",
              "name": "MIT License",
              "spdx_id": "MIT",
              "url": "https://api.github.com/licenses/mit"
            },
            "forks": 15440,
            "open_issues": 1110,
            "watchers": 37952,
            "default_branch": "master"
          }
        },
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424"
          },
          "issue": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424"
          },
          "comments": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424/comments"
          },
          "review_comments": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/comments"
          },
          "review_comment": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments{/number}"
          },
          "commits": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/commits"
          },
          "statuses": {
            "href": "https://api.github.com/repos/rails/rails/statuses/e874248bbd39d627303c2ae7c22e8c0d62a4e465"
          }
        },
        "author_association": "CONTRIBUTOR"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:55:44Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982453446",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 1034,
      "login": "matthewd",
      "display_login": "matthewd",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewd",
      "avatar_url": "https://avatars.githubusercontent.com/u/1034?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 11,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T11:54:33Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351370040",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351370040",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351370040,
        "user": {
          "login": "matthewd",
          "id": 1034,
          "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/matthewd",
          "html_url": "https://github.com/matthewd",
          "followers_url": "https://api.github.com/users/matthewd/followers",
          "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
          "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
          "organizations_url": "https://api.github.com/users/matthewd/orgs",
          "repos_url": "https://api.github.com/users/matthewd/repos",
          "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
          "received_events_url": "https://api.github.com/users/matthewd/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T11:54:33Z",
        "updated_at": "2017-12-13T11:54:33Z",
        "author_association": "OWNER",
        "body": "Thanks for the example. \r\n\r\nAs I said, it has nothing to do with anonymous classes -- the behaviour you're objecting to is that all descendants of AR::Base are retained.\r\n\r\nYes, I'm open to considering a WeakRef in the tracker, if a race-free implementation isn't too ugly (and doesn't measurably impact performance, though I don't expect it would)."
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:54:33Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982450716",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 5657035,
      "login": "fatkodima",
      "display_login": "fatkodima",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fatkodima",
      "avatar_url": "https://avatars.githubusercontent.com/u/5657035?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31382",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31382/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31382/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31382/events",
        "html_url": "https://github.com/rails/rails/pull/31382",
        "id": 280732253,
        "number": 31382,
        "title": "Add an :if_not_exists option to create_table",
        "user": {
          "login": "fatkodima",
          "id": 5657035,
          "avatar_url": "https://avatars2.githubusercontent.com/u/5657035?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fatkodima",
          "html_url": "https://github.com/fatkodima",
          "followers_url": "https://api.github.com/users/fatkodima/followers",
          "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
          "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
          "organizations_url": "https://api.github.com/users/fatkodima/orgs",
          "repos_url": "https://api.github.com/users/fatkodima/repos",
          "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
          "received_events_url": "https://api.github.com/users/fatkodima/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": {
          "login": "maclover7",
          "id": 3020626,
          "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/maclover7",
          "html_url": "https://github.com/maclover7",
          "followers_url": "https://api.github.com/users/maclover7/followers",
          "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
          "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
          "organizations_url": "https://api.github.com/users/maclover7/orgs",
          "repos_url": "https://api.github.com/users/maclover7/repos",
          "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
          "received_events_url": "https://api.github.com/users/maclover7/received_events",
          "type": "User",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "maclover7",
            "id": 3020626,
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maclover7",
            "html_url": "https://github.com/maclover7",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "type": "User",
            "site_admin": false
          }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2017-12-09T16:20:13Z",
        "updated_at": "2017-12-13T11:53:53Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "pull_request": {
          "url": "https://api.github.com/repos/rails/rails/pulls/31382",
          "html_url": "https://github.com/rails/rails/pull/31382",
          "diff_url": "https://github.com/rails/rails/pull/31382.diff",
          "patch_url": "https://github.com/rails/rails/pull/31382.patch"
        },
        "body": "This PR updates (it has no activity nearly for 2 years) this https://github.com/rails/rails/pull/16376 according to master.\r\nr? @maclover7 @arthurnn "
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351369894",
        "html_url": "https://github.com/rails/rails/pull/31382#issuecomment-351369894",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31382",
        "id": 351369894,
        "user": {
          "login": "fatkodima",
          "id": 5657035,
          "avatar_url": "https://avatars2.githubusercontent.com/u/5657035?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fatkodima",
          "html_url": "https://github.com/fatkodima",
          "followers_url": "https://api.github.com/users/fatkodima/followers",
          "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
          "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
          "organizations_url": "https://api.github.com/users/fatkodima/orgs",
          "repos_url": "https://api.github.com/users/fatkodima/repos",
          "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
          "received_events_url": "https://api.github.com/users/fatkodima/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T11:53:53Z",
        "updated_at": "2017-12-13T11:53:53Z",
        "author_association": "CONTRIBUTOR",
        "body": "@rafaelfranca updated and rebased"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:53:53Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982419949",
    "type": "PullRequestReviewCommentEvent",
    "actor": {
      "id": 26460,
      "login": "sobrinho",
      "display_login": "sobrinho",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sobrinho",
      "avatar_url": "https://avatars.githubusercontent.com/u/26460?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/pulls/comments/156636217",
        "pull_request_review_id": 83143946,
        "id": 156636217,
        "diff_hunk": "@@ -34,6 +46,76 @@ def setup\n   include EncodedKeyCacheBehavior\n   include AutoloadingCacheBehavior\n \n+  def test_connection_pool\n+    emulating_latency do\n+      begin\n+        mutex = Mutex.new\n+        cache = ActiveSupport::Cache.lookup_store(:mem_cache_store, pool_size: 1, pool_timeout: 1)\n+        cache.clear\n+\n+        thread = Thread.new {\n+          mutex.synchronize {\n+            cache.read(\"latency\")\n+          }\n+        }\n+\n+        # This is an alternative to Thread.pass because, according to Ruby's\n+        # documentation, it may or may not pass the execution to another thread.\n+        #\n+        # Since we can't predict how much time is needed to the thread start\n+        # working, we simply wait for its preemption by checking if the mutex\n+        # has been acquired.\n+        #\n+        # This is necessary because we want the read of the previous thread to\n+        # happen before the below read.\n+        loop do\n+          break if mutex.locked?",
        "path": "activesupport/test/cache/stores/mem_cache_store_test.rb",
        "position": null,
        "original_position": 46,
        "commit_id": "6d6bfcff1fdc631e611e5eaa397de18ea054f8da",
        "original_commit_id": "03836b992b3bee448dafa5bf8d84df0958321796",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "I got an idea, just a sec.",
        "created_at": "2017-12-13T11:46:32Z",
        "updated_at": "2017-12-13T11:46:32Z",
        "html_url": "https://github.com/rails/rails/pull/31424#discussion_r156636217",
        "pull_request_url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "author_association": "CONTRIBUTOR",
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments/156636217"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424#discussion_r156636217"
          },
          "pull_request": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          }
        },
        "in_reply_to_id": 156571673
      },
      "pull_request": {
        "url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "id": 157983310,
        "html_url": "https://github.com/rails/rails/pull/31424",
        "diff_url": "https://github.com/rails/rails/pull/31424.diff",
        "patch_url": "https://github.com/rails/rails/pull/31424.patch",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31424",
        "number": 31424,
        "state": "open",
        "locked": false,
        "title": "Support for connection pooling on mem cache store",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "This will keep Memcached connection limit under control for large-scale applications.",
        "created_at": "2017-12-13T01:37:29Z",
        "updated_at": "2017-12-13T11:46:32Z",
        "closed_at": null,
        "merged_at": null,
        "merge_commit_sha": "67c751e70f59bd61d3e6403dd50e19e1e7a10ebf",
        "assignee": {
          "login": "pixeltrix",
          "id": 6321,
          "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pixeltrix",
          "html_url": "https://github.com/pixeltrix",
          "followers_url": "https://api.github.com/users/pixeltrix/followers",
          "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
          "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
          "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
          "repos_url": "https://api.github.com/users/pixeltrix/repos",
          "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
          "type": "User",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "pixeltrix",
            "id": 6321,
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pixeltrix",
            "html_url": "https://github.com/pixeltrix",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "type": "User",
            "site_admin": false
          }
        ],
        "requested_reviewers": [

        ],
        "milestone": null,
        "commits_url": "https://api.github.com/repos/rails/rails/pulls/31424/commits",
        "review_comments_url": "https://api.github.com/repos/rails/rails/pulls/31424/comments",
        "review_comment_url": "https://api.github.com/repos/rails/rails/pulls/comments{/number}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31424/comments",
        "statuses_url": "https://api.github.com/repos/rails/rails/statuses/6d6bfcff1fdc631e611e5eaa397de18ea054f8da",
        "head": {
          "label": "sobrinho:sobrinho/connection-pool-memcache",
          "ref": "sobrinho/connection-pool-memcache",
          "sha": "6d6bfcff1fdc631e611e5eaa397de18ea054f8da",
          "user": {
            "login": "sobrinho",
            "id": 26460,
            "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobrinho",
            "html_url": "https://github.com/sobrinho",
            "followers_url": "https://api.github.com/users/sobrinho/followers",
            "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
            "organizations_url": "https://api.github.com/users/sobrinho/orgs",
            "repos_url": "https://api.github.com/users/sobrinho/repos",
            "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobrinho/received_events",
            "type": "User",
            "site_admin": false
          },
          "repo": {
            "id": 6582415,
            "name": "rails",
            "full_name": "sobrinho/rails",
            "owner": {
              "login": "sobrinho",
              "id": 26460,
              "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/sobrinho",
              "html_url": "https://github.com/sobrinho",
              "followers_url": "https://api.github.com/users/sobrinho/followers",
              "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
              "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
              "organizations_url": "https://api.github.com/users/sobrinho/orgs",
              "repos_url": "https://api.github.com/users/sobrinho/repos",
              "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
              "received_events_url": "https://api.github.com/users/sobrinho/received_events",
              "type": "User",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/sobrinho/rails",
            "description": "Ruby on Rails",
            "fork": true,
            "url": "https://api.github.com/repos/sobrinho/rails",
            "forks_url": "https://api.github.com/repos/sobrinho/rails/forks",
            "keys_url": "https://api.github.com/repos/sobrinho/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/sobrinho/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/sobrinho/rails/teams",
            "hooks_url": "https://api.github.com/repos/sobrinho/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/sobrinho/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/sobrinho/rails/events",
            "assignees_url": "https://api.github.com/repos/sobrinho/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/sobrinho/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/sobrinho/rails/tags",
            "blobs_url": "https://api.github.com/repos/sobrinho/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/sobrinho/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/sobrinho/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/sobrinho/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/sobrinho/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/sobrinho/rails/languages",
            "stargazers_url": "https://api.github.com/repos/sobrinho/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/sobrinho/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/sobrinho/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/sobrinho/rails/subscription",
            "commits_url": "https://api.github.com/repos/sobrinho/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/sobrinho/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/sobrinho/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/sobrinho/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/sobrinho/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/sobrinho/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/sobrinho/rails/merges",
            "archive_url": "https://api.github.com/repos/sobrinho/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/sobrinho/rails/downloads",
            "issues_url": "https://api.github.com/repos/sobrinho/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/sobrinho/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/sobrinho/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/sobrinho/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/sobrinho/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/sobrinho/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/sobrinho/rails/deployments",
            "created_at": "2012-11-07T16:36:11Z",
            "updated_at": "2015-03-10T00:47:37Z",
            "pushed_at": "2017-12-13T10:56:08Z",
            "git_url": "git://github.com/sobrinho/rails.git",
            "ssh_url": "git@github.com:sobrinho/rails.git",
            "clone_url": "https://github.com/sobrinho/rails.git",
            "svn_url": "https://github.com/sobrinho/rails",
            "homepage": "http://rubyonrails.org",
            "size": 151962,
            "stargazers_count": 0,
            "watchers_count": 0,
            "language": "Ruby",
            "has_issues": false,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 0,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 0,
            "license": null,
            "forks": 0,
            "open_issues": 0,
            "watchers": 0,
            "default_branch": "master"
          }
        },
        "base": {
          "label": "rails:master",
          "ref": "master",
          "sha": "9d43a84f73c1b3853a91d052a462ee60eccaf957",
          "user": {
            "login": "rails",
            "id": 4223,
            "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rails",
            "html_url": "https://github.com/rails",
            "followers_url": "https://api.github.com/users/rails/followers",
            "following_url": "https://api.github.com/users/rails/following{/other_user}",
            "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
            "organizations_url": "https://api.github.com/users/rails/orgs",
            "repos_url": "https://api.github.com/users/rails/repos",
            "events_url": "https://api.github.com/users/rails/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rails/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "repo": {
            "id": 8514,
            "name": "rails",
            "full_name": "rails/rails",
            "owner": {
              "login": "rails",
              "id": 4223,
              "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/rails",
              "html_url": "https://github.com/rails",
              "followers_url": "https://api.github.com/users/rails/followers",
              "following_url": "https://api.github.com/users/rails/following{/other_user}",
              "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
              "organizations_url": "https://api.github.com/users/rails/orgs",
              "repos_url": "https://api.github.com/users/rails/repos",
              "events_url": "https://api.github.com/users/rails/events{/privacy}",
              "received_events_url": "https://api.github.com/users/rails/received_events",
              "type": "Organization",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/rails/rails",
            "description": "Ruby on Rails",
            "fork": false,
            "url": "https://api.github.com/repos/rails/rails",
            "forks_url": "https://api.github.com/repos/rails/rails/forks",
            "keys_url": "https://api.github.com/repos/rails/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/rails/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/rails/rails/teams",
            "hooks_url": "https://api.github.com/repos/rails/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/rails/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/rails/rails/events",
            "assignees_url": "https://api.github.com/repos/rails/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/rails/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/rails/rails/tags",
            "blobs_url": "https://api.github.com/repos/rails/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/rails/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/rails/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/rails/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/rails/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/rails/rails/languages",
            "stargazers_url": "https://api.github.com/repos/rails/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/rails/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/rails/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/rails/rails/subscription",
            "commits_url": "https://api.github.com/repos/rails/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/rails/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/rails/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/rails/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/rails/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/rails/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/rails/rails/merges",
            "archive_url": "https://api.github.com/repos/rails/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/rails/rails/downloads",
            "issues_url": "https://api.github.com/repos/rails/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/rails/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/rails/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/rails/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/rails/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/rails/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/rails/rails/deployments",
            "created_at": "2008-04-11T02:19:47Z",
            "updated_at": "2017-12-13T04:02:33Z",
            "pushed_at": "2017-12-13T11:09:31Z",
            "git_url": "git://github.com/rails/rails.git",
            "ssh_url": "git@github.com:rails/rails.git",
            "clone_url": "https://github.com/rails/rails.git",
            "svn_url": "https://github.com/rails/rails",
            "homepage": "http://rubyonrails.org",
            "size": 157794,
            "stargazers_count": 37952,
            "watchers_count": 37952,
            "language": "Ruby",
            "has_issues": true,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 15440,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 1110,
            "license": {
              "key": "mit",
              "name": "MIT License",
              "spdx_id": "MIT",
              "url": "https://api.github.com/licenses/mit"
            },
            "forks": 15440,
            "open_issues": 1110,
            "watchers": 37952,
            "default_branch": "master"
          }
        },
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424"
          },
          "issue": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424"
          },
          "comments": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424/comments"
          },
          "review_comments": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/comments"
          },
          "review_comment": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments{/number}"
          },
          "commits": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/commits"
          },
          "statuses": {
            "href": "https://api.github.com/repos/rails/rails/statuses/6d6bfcff1fdc631e611e5eaa397de18ea054f8da"
          }
        },
        "author_association": "CONTRIBUTOR"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:46:32Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982405834",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 8155,
      "login": "ebeigarts",
      "display_login": "ebeigarts",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebeigarts",
      "avatar_url": "https://avatars.githubusercontent.com/u/8155?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 10,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T11:43:10Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351367645",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351367645",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351367645,
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T11:43:10Z",
        "updated_at": "2017-12-13T11:43:10Z",
        "author_association": "CONTRIBUTOR",
        "body": "Maybe we can use https://ruby-doc.org/stdlib-2.4.2/libdoc/weakref/rdoc/WeakRef.html in descendants tracker to allow anonymous classes?"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:43:10Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982341976",
    "type": "PullRequestReviewCommentEvent",
    "actor": {
      "id": 1034,
      "login": "matthewd",
      "display_login": "matthewd",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewd",
      "avatar_url": "https://avatars.githubusercontent.com/u/1034?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/pulls/comments/156631672",
        "pull_request_review_id": 83138738,
        "id": 156631672,
        "diff_hunk": "@@ -34,6 +46,76 @@ def setup\n   include EncodedKeyCacheBehavior\n   include AutoloadingCacheBehavior\n \n+  def test_connection_pool\n+    emulating_latency do\n+      begin\n+        mutex = Mutex.new\n+        cache = ActiveSupport::Cache.lookup_store(:mem_cache_store, pool_size: 1, pool_timeout: 1)\n+        cache.clear\n+\n+        thread = Thread.new {\n+          mutex.synchronize {\n+            cache.read(\"latency\")\n+          }\n+        }\n+\n+        # This is an alternative to Thread.pass because, according to Ruby's\n+        # documentation, it may or may not pass the execution to another thread.\n+        #\n+        # Since we can't predict how much time is needed to the thread start\n+        # working, we simply wait for its preemption by checking if the mutex\n+        # has been acquired.\n+        #\n+        # This is necessary because we want the read of the previous thread to\n+        # happen before the below read.\n+        loop do\n+          break if mutex.locked?",
        "path": "activesupport/test/cache/stores/mem_cache_store_test.rb",
        "position": null,
        "original_position": 46,
        "commit_id": "6d6bfcff1fdc631e611e5eaa397de18ea054f8da",
        "original_commit_id": "03836b992b3bee448dafa5bf8d84df0958321796",
        "user": {
          "login": "matthewd",
          "id": 1034,
          "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/matthewd",
          "html_url": "https://github.com/matthewd",
          "followers_url": "https://api.github.com/users/matthewd/followers",
          "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
          "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
          "organizations_url": "https://api.github.com/users/matthewd/orgs",
          "repos_url": "https://api.github.com/users/matthewd/repos",
          "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
          "received_events_url": "https://api.github.com/users/matthewd/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "Right: it needs to go *inside* the `get` method",
        "created_at": "2017-12-13T11:27:56Z",
        "updated_at": "2017-12-13T11:27:56Z",
        "html_url": "https://github.com/rails/rails/pull/31424#discussion_r156631672",
        "pull_request_url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "author_association": "OWNER",
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments/156631672"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424#discussion_r156631672"
          },
          "pull_request": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          }
        },
        "in_reply_to_id": 156571673
      },
      "pull_request": {
        "url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "id": 157983310,
        "html_url": "https://github.com/rails/rails/pull/31424",
        "diff_url": "https://github.com/rails/rails/pull/31424.diff",
        "patch_url": "https://github.com/rails/rails/pull/31424.patch",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31424",
        "number": 31424,
        "state": "open",
        "locked": false,
        "title": "Support for connection pooling on mem cache store",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "This will keep Memcached connection limit under control for large-scale applications.",
        "created_at": "2017-12-13T01:37:29Z",
        "updated_at": "2017-12-13T11:27:56Z",
        "closed_at": null,
        "merged_at": null,
        "merge_commit_sha": "67c751e70f59bd61d3e6403dd50e19e1e7a10ebf",
        "assignee": {
          "login": "pixeltrix",
          "id": 6321,
          "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pixeltrix",
          "html_url": "https://github.com/pixeltrix",
          "followers_url": "https://api.github.com/users/pixeltrix/followers",
          "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
          "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
          "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
          "repos_url": "https://api.github.com/users/pixeltrix/repos",
          "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
          "type": "User",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "pixeltrix",
            "id": 6321,
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pixeltrix",
            "html_url": "https://github.com/pixeltrix",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "type": "User",
            "site_admin": false
          }
        ],
        "requested_reviewers": [

        ],
        "milestone": null,
        "commits_url": "https://api.github.com/repos/rails/rails/pulls/31424/commits",
        "review_comments_url": "https://api.github.com/repos/rails/rails/pulls/31424/comments",
        "review_comment_url": "https://api.github.com/repos/rails/rails/pulls/comments{/number}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31424/comments",
        "statuses_url": "https://api.github.com/repos/rails/rails/statuses/6d6bfcff1fdc631e611e5eaa397de18ea054f8da",
        "head": {
          "label": "sobrinho:sobrinho/connection-pool-memcache",
          "ref": "sobrinho/connection-pool-memcache",
          "sha": "6d6bfcff1fdc631e611e5eaa397de18ea054f8da",
          "user": {
            "login": "sobrinho",
            "id": 26460,
            "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobrinho",
            "html_url": "https://github.com/sobrinho",
            "followers_url": "https://api.github.com/users/sobrinho/followers",
            "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
            "organizations_url": "https://api.github.com/users/sobrinho/orgs",
            "repos_url": "https://api.github.com/users/sobrinho/repos",
            "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobrinho/received_events",
            "type": "User",
            "site_admin": false
          },
          "repo": {
            "id": 6582415,
            "name": "rails",
            "full_name": "sobrinho/rails",
            "owner": {
              "login": "sobrinho",
              "id": 26460,
              "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/sobrinho",
              "html_url": "https://github.com/sobrinho",
              "followers_url": "https://api.github.com/users/sobrinho/followers",
              "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
              "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
              "organizations_url": "https://api.github.com/users/sobrinho/orgs",
              "repos_url": "https://api.github.com/users/sobrinho/repos",
              "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
              "received_events_url": "https://api.github.com/users/sobrinho/received_events",
              "type": "User",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/sobrinho/rails",
            "description": "Ruby on Rails",
            "fork": true,
            "url": "https://api.github.com/repos/sobrinho/rails",
            "forks_url": "https://api.github.com/repos/sobrinho/rails/forks",
            "keys_url": "https://api.github.com/repos/sobrinho/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/sobrinho/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/sobrinho/rails/teams",
            "hooks_url": "https://api.github.com/repos/sobrinho/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/sobrinho/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/sobrinho/rails/events",
            "assignees_url": "https://api.github.com/repos/sobrinho/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/sobrinho/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/sobrinho/rails/tags",
            "blobs_url": "https://api.github.com/repos/sobrinho/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/sobrinho/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/sobrinho/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/sobrinho/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/sobrinho/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/sobrinho/rails/languages",
            "stargazers_url": "https://api.github.com/repos/sobrinho/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/sobrinho/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/sobrinho/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/sobrinho/rails/subscription",
            "commits_url": "https://api.github.com/repos/sobrinho/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/sobrinho/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/sobrinho/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/sobrinho/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/sobrinho/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/sobrinho/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/sobrinho/rails/merges",
            "archive_url": "https://api.github.com/repos/sobrinho/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/sobrinho/rails/downloads",
            "issues_url": "https://api.github.com/repos/sobrinho/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/sobrinho/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/sobrinho/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/sobrinho/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/sobrinho/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/sobrinho/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/sobrinho/rails/deployments",
            "created_at": "2012-11-07T16:36:11Z",
            "updated_at": "2015-03-10T00:47:37Z",
            "pushed_at": "2017-12-13T10:56:08Z",
            "git_url": "git://github.com/sobrinho/rails.git",
            "ssh_url": "git@github.com:sobrinho/rails.git",
            "clone_url": "https://github.com/sobrinho/rails.git",
            "svn_url": "https://github.com/sobrinho/rails",
            "homepage": "http://rubyonrails.org",
            "size": 151962,
            "stargazers_count": 0,
            "watchers_count": 0,
            "language": "Ruby",
            "has_issues": false,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 0,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 0,
            "license": null,
            "forks": 0,
            "open_issues": 0,
            "watchers": 0,
            "default_branch": "master"
          }
        },
        "base": {
          "label": "rails:master",
          "ref": "master",
          "sha": "9d43a84f73c1b3853a91d052a462ee60eccaf957",
          "user": {
            "login": "rails",
            "id": 4223,
            "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rails",
            "html_url": "https://github.com/rails",
            "followers_url": "https://api.github.com/users/rails/followers",
            "following_url": "https://api.github.com/users/rails/following{/other_user}",
            "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
            "organizations_url": "https://api.github.com/users/rails/orgs",
            "repos_url": "https://api.github.com/users/rails/repos",
            "events_url": "https://api.github.com/users/rails/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rails/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "repo": {
            "id": 8514,
            "name": "rails",
            "full_name": "rails/rails",
            "owner": {
              "login": "rails",
              "id": 4223,
              "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/rails",
              "html_url": "https://github.com/rails",
              "followers_url": "https://api.github.com/users/rails/followers",
              "following_url": "https://api.github.com/users/rails/following{/other_user}",
              "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
              "organizations_url": "https://api.github.com/users/rails/orgs",
              "repos_url": "https://api.github.com/users/rails/repos",
              "events_url": "https://api.github.com/users/rails/events{/privacy}",
              "received_events_url": "https://api.github.com/users/rails/received_events",
              "type": "Organization",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/rails/rails",
            "description": "Ruby on Rails",
            "fork": false,
            "url": "https://api.github.com/repos/rails/rails",
            "forks_url": "https://api.github.com/repos/rails/rails/forks",
            "keys_url": "https://api.github.com/repos/rails/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/rails/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/rails/rails/teams",
            "hooks_url": "https://api.github.com/repos/rails/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/rails/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/rails/rails/events",
            "assignees_url": "https://api.github.com/repos/rails/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/rails/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/rails/rails/tags",
            "blobs_url": "https://api.github.com/repos/rails/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/rails/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/rails/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/rails/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/rails/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/rails/rails/languages",
            "stargazers_url": "https://api.github.com/repos/rails/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/rails/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/rails/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/rails/rails/subscription",
            "commits_url": "https://api.github.com/repos/rails/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/rails/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/rails/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/rails/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/rails/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/rails/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/rails/rails/merges",
            "archive_url": "https://api.github.com/repos/rails/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/rails/rails/downloads",
            "issues_url": "https://api.github.com/repos/rails/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/rails/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/rails/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/rails/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/rails/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/rails/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/rails/rails/deployments",
            "created_at": "2008-04-11T02:19:47Z",
            "updated_at": "2017-12-13T04:02:33Z",
            "pushed_at": "2017-12-13T11:09:31Z",
            "git_url": "git://github.com/rails/rails.git",
            "ssh_url": "git@github.com:rails/rails.git",
            "clone_url": "https://github.com/rails/rails.git",
            "svn_url": "https://github.com/rails/rails",
            "homepage": "http://rubyonrails.org",
            "size": 157794,
            "stargazers_count": 37952,
            "watchers_count": 37952,
            "language": "Ruby",
            "has_issues": true,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 15440,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 1110,
            "license": {
              "key": "mit",
              "name": "MIT License",
              "spdx_id": "MIT",
              "url": "https://api.github.com/licenses/mit"
            },
            "forks": 15440,
            "open_issues": 1110,
            "watchers": 37952,
            "default_branch": "master"
          }
        },
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424"
          },
          "issue": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424"
          },
          "comments": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424/comments"
          },
          "review_comments": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/comments"
          },
          "review_comment": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments{/number}"
          },
          "commits": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/commits"
          },
          "statuses": {
            "href": "https://api.github.com/repos/rails/rails/statuses/6d6bfcff1fdc631e611e5eaa397de18ea054f8da"
          }
        },
        "author_association": "CONTRIBUTOR"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:27:56Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982330994",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 8155,
      "login": "ebeigarts",
      "display_login": "ebeigarts",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebeigarts",
      "avatar_url": "https://avatars.githubusercontent.com/u/8155?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 9,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T11:25:22Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351363603",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351363603",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351363603,
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T11:25:22Z",
        "updated_at": "2017-12-13T11:25:22Z",
        "author_association": "CONTRIBUTOR",
        "body": "I have used this in multiple ways and I know there are workarounds, but anonymous classes are pretty basic ruby feature. At least it should give a warning.\r\n\r\n1. Creating active models with dynamic attributes\r\n\r\n```\r\nclass Estimation\r\n  include ActiveModel::Model\r\n\r\n  def self.instantiate_rows(rows, column_names)\r\n    klass = Class.new(self)\r\n    column_names.each do |attr|\r\n      klass.send(:attr_accessor, attr)\r\n    end\r\n    rows.map do |attributes|\r\n      klass.new attributes\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n2. Preloading active record associations with dynamic conditions to avoid N+1 queries\r\n\r\n```\r\nclass ProjectPlan < ActiveRecord::Base\r\n  has_many :plan_allocations # 1000+ records\r\nend\r\n\r\nklass = Class.new(ProjectPlan)\r\nd = dates\r\nklass.class_eval do\r\n  has_many :plan_allocations, -> { within_interval(d.begin, d.end).order(:start_at) }\r\nend\r\n\r\n# Get all projects plans with allocations for period X\r\nplans = klass.preload(:plan_allocations)\r\n...\r\n```\r\n\r\nI could find more examples where I have used `Class.new`, most of them could be rewritten to avoid anonymous classes, but to me this was a surprise that anonymous AR/AM classes leak memory."
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:25:22Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982310191",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 2377,
      "login": "jdelStrother",
      "display_login": "jdelStrother",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdelStrother",
      "avatar_url": "https://avatars.githubusercontent.com/u/2377?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31426",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31426/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31426/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31426/events",
        "html_url": "https://github.com/rails/rails/issues/31426",
        "id": 281685765,
        "number": 31426,
        "title": "t(\"foo\", default: false) doesn't respect the default",
        "user": {
          "login": "jdelStrother",
          "id": 2377,
          "avatar_url": "https://avatars1.githubusercontent.com/u/2377?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jdelStrother",
          "html_url": "https://github.com/jdelStrother",
          "followers_url": "https://api.github.com/users/jdelStrother/followers",
          "following_url": "https://api.github.com/users/jdelStrother/following{/other_user}",
          "gists_url": "https://api.github.com/users/jdelStrother/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/jdelStrother/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/jdelStrother/subscriptions",
          "organizations_url": "https://api.github.com/users/jdelStrother/orgs",
          "repos_url": "https://api.github.com/users/jdelStrother/repos",
          "events_url": "https://api.github.com/users/jdelStrother/events{/privacy}",
          "received_events_url": "https://api.github.com/users/jdelStrother/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2017-12-13T09:51:10Z",
        "updated_at": "2017-12-13T11:20:33Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "### Steps to reproduce\r\n\r\nTry to translate a key, supplying a default of `false` ( eg `t(\"foo\", default: false)`).\r\n\r\n### Expected behavior\r\n\r\nIf the translation is missing, it returns `false`\r\n\r\n### Actual behavior\r\n\r\nIf the translation is missing, it returns `<span class=\"translation_missing\" title=\"translation missing: en.false\">False</span>`\r\n\r\nThis is also demonstrated in this sample project:\r\n[rails51.zip](https://github.com/rails/rails/files/1554939/rails51.zip)\r\n\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n5.1.4\r\n\r\n**Ruby version**:\r\n\r\n2.3.4\r\n\r\n\r\nThis appears to be a change in the i18n gem since 0.8.3 - if you downgrade to 0.8.1, `t(\"foo\", default: false)` return `false`.\r\nHowever, the problem only occurs if you use Rails `t` helper - if you go via `I18n.t(\"foo\", default: false)`, it returns false regardless of the i18n version.\r\n\r\nThis was originally filed on the i18n repo at https://github.com/svenfuchs/i18n/issues/379.\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351362489",
        "html_url": "https://github.com/rails/rails/issues/31426#issuecomment-351362489",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31426",
        "id": 351362489,
        "user": {
          "login": "jdelStrother",
          "id": 2377,
          "avatar_url": "https://avatars1.githubusercontent.com/u/2377?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jdelStrother",
          "html_url": "https://github.com/jdelStrother",
          "followers_url": "https://api.github.com/users/jdelStrother/followers",
          "following_url": "https://api.github.com/users/jdelStrother/following{/other_user}",
          "gists_url": "https://api.github.com/users/jdelStrother/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/jdelStrother/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/jdelStrother/subscriptions",
          "organizations_url": "https://api.github.com/users/jdelStrother/orgs",
          "repos_url": "https://api.github.com/users/jdelStrother/repos",
          "events_url": "https://api.github.com/users/jdelStrother/events{/privacy}",
          "received_events_url": "https://api.github.com/users/jdelStrother/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T11:20:33Z",
        "updated_at": "2017-12-13T11:20:33Z",
        "author_association": "CONTRIBUTOR",
        "body": "Will see what I can do"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:20:33Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982257444",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 23259098,
      "login": "MassMadankumar",
      "display_login": "MassMadankumar",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MassMadankumar",
      "avatar_url": "https://avatars.githubusercontent.com/u/23259098?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/28971",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/28971/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/28971/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/28971/events",
        "html_url": "https://github.com/rails/rails/issues/28971",
        "id": 225964522,
        "number": 28971,
        "title": "Rails server doesn't start Puma on the correct port",
        "user": {
          "login": "lucaspiller",
          "id": 18404,
          "avatar_url": "https://avatars3.githubusercontent.com/u/18404?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/lucaspiller",
          "html_url": "https://github.com/lucaspiller",
          "followers_url": "https://api.github.com/users/lucaspiller/followers",
          "following_url": "https://api.github.com/users/lucaspiller/following{/other_user}",
          "gists_url": "https://api.github.com/users/lucaspiller/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/lucaspiller/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/lucaspiller/subscriptions",
          "organizations_url": "https://api.github.com/users/lucaspiller/orgs",
          "repos_url": "https://api.github.com/users/lucaspiller/repos",
          "events_url": "https://api.github.com/users/lucaspiller/events{/privacy}",
          "received_events_url": "https://api.github.com/users/lucaspiller/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [
          {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "name": "railties",
            "color": "8BE06E",
            "default": false
          },
          {
            "id": 131864,
            "url": "https://api.github.com/repos/rails/rails/labels/third%20party%20issue",
            "name": "third party issue",
            "color": "02d7e1",
            "default": false
          },
          {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "name": "With reproduction steps",
            "color": "009800",
            "default": false
          }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 16,
        "created_at": "2017-05-03T12:08:34Z",
        "updated_at": "2017-12-13T11:08:14Z",
        "closed_at": "2017-06-03T17:54:45Z",
        "author_association": "NONE",
        "body": "After upgrading to Rails 5.1, running `rails server` no longer starts the server on the default port of 3000 on my project. Weirdly it prints that it is starting on port 3000, but Puma is booted up on port 9292. If I pass the port number it works correctly.\r\n\r\nI've tried creating a new Rails project, but can't reproduce it, so it must be something strange with my configuration, but I have no idea what it could be (it's a private project so I can't share it).\r\n\r\n### Steps to reproduce\r\n\r\nRun `bundle exec rails server`\r\n\r\n### Expected behavior\r\n\r\nServer should be started on port 3000.\r\n\r\n### Actual behavior\r\n\r\nServer is started on port 9292.\r\n\r\n```\r\n=> Booting Puma\r\n=> Rails 5.1.0 application starting in development on http://0.0.0.0:3000\r\n=> Run `rails server -h` for more startup options\r\nW, [2017-05-03T14:52:33.021141 #25863]  WARN -- : DEPRECATION WARNING: ActiveSupport.halt_callback_chains_on_return_false= is deprecated and will be removed in Rails 5.2. (called from <top (required)> at /home/luca/code/paytouch/pt_dashboard/config/initializers/callback_terminator.rb:5)\r\nPuma starting in single mode...\r\n* Version 3.8.2 (ruby 2.4.1-p111), codename: Sassy Salamander\r\n* Min threads: 0, max threads: 16\r\n* Environment: development\r\n* Listening on tcp://0.0.0.0:9292\r\n```\r\n\r\n### System configuration\r\n\r\n**Rails version**: 5.1\r\n**Ruby version**: 2.4.1\r\n**Puma version**: 3.8.2\r\n\r\nDiff of Gemfile changes (the only thing that has changed) after upgrading from Rails 5.0.2 to 5.1: https://gist.github.com/lucaspiller/02be631352812417e5d4ffb4ce8e9044\r\n\r\nconfig/puma.rb:\r\n\r\n```\r\nport ENV['PORT'] || 3000\r\nenvironment ENV['RACK_ENV'] || 'development'\r\n```"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351359646",
        "html_url": "https://github.com/rails/rails/issues/28971#issuecomment-351359646",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/28971",
        "id": 351359646,
        "user": {
          "login": "MassMadankumar",
          "id": 23259098,
          "avatar_url": "https://avatars2.githubusercontent.com/u/23259098?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/MassMadankumar",
          "html_url": "https://github.com/MassMadankumar",
          "followers_url": "https://api.github.com/users/MassMadankumar/followers",
          "following_url": "https://api.github.com/users/MassMadankumar/following{/other_user}",
          "gists_url": "https://api.github.com/users/MassMadankumar/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/MassMadankumar/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/MassMadankumar/subscriptions",
          "organizations_url": "https://api.github.com/users/MassMadankumar/orgs",
          "repos_url": "https://api.github.com/users/MassMadankumar/repos",
          "events_url": "https://api.github.com/users/MassMadankumar/events{/privacy}",
          "received_events_url": "https://api.github.com/users/MassMadankumar/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T11:08:14Z",
        "updated_at": "2017-12-13T11:08:14Z",
        "author_association": "NONE",
        "body": "root@instance-2:/mnt/zapstore.com/shopifyapp/zap# rails s\r\n=> Booting Puma\r\n=> Rails 5.1.4 application starting in development\r\n=> Run `rails server -h` for more startup options\r\nPuma starting in single mode...\r\n* Version 3.11.0 (ruby 2.4.2-p198), codename: Love Song\r\n* Min threads: 5, max threads: 5\r\n* Environment: development\r\n* Listening on tcp://0.0.0.0:3000\r\nUse Ctrl-C to stop"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:08:14Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982245606",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 6261109,
      "login": "utilum",
      "display_login": "utilum",
      "gravatar_id": "",
      "url": "https://api.github.com/users/utilum",
      "avatar_url": "https://avatars.githubusercontent.com/u/6261109?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31426",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31426/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31426/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31426/events",
        "html_url": "https://github.com/rails/rails/issues/31426",
        "id": 281685765,
        "number": 31426,
        "title": "t(\"foo\", default: false) doesn't respect the default",
        "user": {
          "login": "jdelStrother",
          "id": 2377,
          "avatar_url": "https://avatars1.githubusercontent.com/u/2377?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jdelStrother",
          "html_url": "https://github.com/jdelStrother",
          "followers_url": "https://api.github.com/users/jdelStrother/followers",
          "following_url": "https://api.github.com/users/jdelStrother/following{/other_user}",
          "gists_url": "https://api.github.com/users/jdelStrother/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/jdelStrother/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/jdelStrother/subscriptions",
          "organizations_url": "https://api.github.com/users/jdelStrother/orgs",
          "repos_url": "https://api.github.com/users/jdelStrother/repos",
          "events_url": "https://api.github.com/users/jdelStrother/events{/privacy}",
          "received_events_url": "https://api.github.com/users/jdelStrother/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 0,
        "created_at": "2017-12-13T09:51:10Z",
        "updated_at": "2017-12-13T11:05:29Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "### Steps to reproduce\r\n\r\nTry to translate a key, supplying a default of `false` ( eg `t(\"foo\", default: false)`).\r\n\r\n### Expected behavior\r\n\r\nIf the translation is missing, it returns `false`\r\n\r\n### Actual behavior\r\n\r\nIf the translation is missing, it returns `<span class=\"translation_missing\" title=\"translation missing: en.false\">False</span>`\r\n\r\nThis is also demonstrated in this sample project:\r\n[rails51.zip](https://github.com/rails/rails/files/1554939/rails51.zip)\r\n\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n5.1.4\r\n\r\n**Ruby version**:\r\n\r\n2.3.4\r\n\r\n\r\nThis appears to be a change in the i18n gem since 0.8.3 - if you downgrade to 0.8.1, `t(\"foo\", default: false)` return `false`.\r\nHowever, the problem only occurs if you use Rails `t` helper - if you go via `I18n.t(\"foo\", default: false)`, it returns false regardless of the i18n version.\r\n\r\nThis was originally filed on the i18n repo at https://github.com/svenfuchs/i18n/issues/379.\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351359043",
        "html_url": "https://github.com/rails/rails/issues/31426#issuecomment-351359043",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31426",
        "id": 351359043,
        "user": {
          "login": "utilum",
          "id": 6261109,
          "avatar_url": "https://avatars0.githubusercontent.com/u/6261109?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/utilum",
          "html_url": "https://github.com/utilum",
          "followers_url": "https://api.github.com/users/utilum/followers",
          "following_url": "https://api.github.com/users/utilum/following{/other_user}",
          "gists_url": "https://api.github.com/users/utilum/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/utilum/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/utilum/subscriptions",
          "organizations_url": "https://api.github.com/users/utilum/orgs",
          "repos_url": "https://api.github.com/users/utilum/repos",
          "events_url": "https://api.github.com/users/utilum/events{/privacy}",
          "received_events_url": "https://api.github.com/users/utilum/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T11:05:29Z",
        "updated_at": "2017-12-13T11:05:29Z",
        "author_association": "CONTRIBUTOR",
        "body": "@jdelStrother could you reproduce with an executable script based on https://github.com/rails/rails/blob/master/guides/bug_report_templates/generic_gem.rb ?"
      }
    },
    "public": true,
    "created_at": "2017-12-13T11:05:30Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982181704",
    "type": "PullRequestReviewCommentEvent",
    "actor": {
      "id": 26460,
      "login": "sobrinho",
      "display_login": "sobrinho",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sobrinho",
      "avatar_url": "https://avatars.githubusercontent.com/u/26460?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/pulls/comments/156622898",
        "pull_request_review_id": 83129133,
        "id": 156622898,
        "diff_hunk": "@@ -34,6 +46,76 @@ def setup\n   include EncodedKeyCacheBehavior\n   include AutoloadingCacheBehavior\n \n+  def test_connection_pool\n+    emulating_latency do\n+      begin\n+        mutex = Mutex.new\n+        cache = ActiveSupport::Cache.lookup_store(:mem_cache_store, pool_size: 1, pool_timeout: 1)\n+        cache.clear\n+\n+        thread = Thread.new {\n+          mutex.synchronize {\n+            cache.read(\"latency\")\n+          }\n+        }\n+\n+        # This is an alternative to Thread.pass because, according to Ruby's\n+        # documentation, it may or may not pass the execution to another thread.\n+        #\n+        # Since we can't predict how much time is needed to the thread start\n+        # working, we simply wait for its preemption by checking if the mutex\n+        # has been acquired.\n+        #\n+        # This is necessary because we want the read of the previous thread to\n+        # happen before the below read.\n+        loop do\n+          break if mutex.locked?",
        "path": "activesupport/test/cache/stores/mem_cache_store_test.rb",
        "position": 46,
        "original_position": 46,
        "commit_id": "03836b992b3bee448dafa5bf8d84df0958321796",
        "original_commit_id": "03836b992b3bee448dafa5bf8d84df0958321796",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "I think we have the same problem with `Concurrent::CyclicBarrier` because you specify the common barrier point but you have no control about who will preempt after that.\r\n\r\nThe safest option is to use [toxiproxy](https://github.com/Shopify/toxiproxy) to increase the memcached latency at our need and remove it after.\r\n\r\nWhat you think about keeping as is now and implementing toxiproxy in a second PR?",
        "created_at": "2017-12-13T10:51:47Z",
        "updated_at": "2017-12-13T10:51:47Z",
        "html_url": "https://github.com/rails/rails/pull/31424#discussion_r156622898",
        "pull_request_url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "author_association": "CONTRIBUTOR",
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments/156622898"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424#discussion_r156622898"
          },
          "pull_request": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          }
        },
        "in_reply_to_id": 156571673
      },
      "pull_request": {
        "url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "id": 157983310,
        "html_url": "https://github.com/rails/rails/pull/31424",
        "diff_url": "https://github.com/rails/rails/pull/31424.diff",
        "patch_url": "https://github.com/rails/rails/pull/31424.patch",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31424",
        "number": 31424,
        "state": "open",
        "locked": false,
        "title": "Support for connection pooling on mem cache store",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "This will keep Memcached connection limit under control for large-scale applications.",
        "created_at": "2017-12-13T01:37:29Z",
        "updated_at": "2017-12-13T10:51:47Z",
        "closed_at": null,
        "merged_at": null,
        "merge_commit_sha": "7b641f32f838688f2c978c98fd99c549df63063f",
        "assignee": {
          "login": "pixeltrix",
          "id": 6321,
          "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pixeltrix",
          "html_url": "https://github.com/pixeltrix",
          "followers_url": "https://api.github.com/users/pixeltrix/followers",
          "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
          "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
          "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
          "repos_url": "https://api.github.com/users/pixeltrix/repos",
          "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
          "type": "User",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "pixeltrix",
            "id": 6321,
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pixeltrix",
            "html_url": "https://github.com/pixeltrix",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "type": "User",
            "site_admin": false
          }
        ],
        "requested_reviewers": [

        ],
        "milestone": null,
        "commits_url": "https://api.github.com/repos/rails/rails/pulls/31424/commits",
        "review_comments_url": "https://api.github.com/repos/rails/rails/pulls/31424/comments",
        "review_comment_url": "https://api.github.com/repos/rails/rails/pulls/comments{/number}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31424/comments",
        "statuses_url": "https://api.github.com/repos/rails/rails/statuses/03836b992b3bee448dafa5bf8d84df0958321796",
        "head": {
          "label": "sobrinho:sobrinho/connection-pool-memcache",
          "ref": "sobrinho/connection-pool-memcache",
          "sha": "03836b992b3bee448dafa5bf8d84df0958321796",
          "user": {
            "login": "sobrinho",
            "id": 26460,
            "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobrinho",
            "html_url": "https://github.com/sobrinho",
            "followers_url": "https://api.github.com/users/sobrinho/followers",
            "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
            "organizations_url": "https://api.github.com/users/sobrinho/orgs",
            "repos_url": "https://api.github.com/users/sobrinho/repos",
            "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobrinho/received_events",
            "type": "User",
            "site_admin": false
          },
          "repo": {
            "id": 6582415,
            "name": "rails",
            "full_name": "sobrinho/rails",
            "owner": {
              "login": "sobrinho",
              "id": 26460,
              "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/sobrinho",
              "html_url": "https://github.com/sobrinho",
              "followers_url": "https://api.github.com/users/sobrinho/followers",
              "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
              "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
              "organizations_url": "https://api.github.com/users/sobrinho/orgs",
              "repos_url": "https://api.github.com/users/sobrinho/repos",
              "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
              "received_events_url": "https://api.github.com/users/sobrinho/received_events",
              "type": "User",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/sobrinho/rails",
            "description": "Ruby on Rails",
            "fork": true,
            "url": "https://api.github.com/repos/sobrinho/rails",
            "forks_url": "https://api.github.com/repos/sobrinho/rails/forks",
            "keys_url": "https://api.github.com/repos/sobrinho/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/sobrinho/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/sobrinho/rails/teams",
            "hooks_url": "https://api.github.com/repos/sobrinho/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/sobrinho/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/sobrinho/rails/events",
            "assignees_url": "https://api.github.com/repos/sobrinho/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/sobrinho/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/sobrinho/rails/tags",
            "blobs_url": "https://api.github.com/repos/sobrinho/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/sobrinho/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/sobrinho/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/sobrinho/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/sobrinho/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/sobrinho/rails/languages",
            "stargazers_url": "https://api.github.com/repos/sobrinho/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/sobrinho/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/sobrinho/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/sobrinho/rails/subscription",
            "commits_url": "https://api.github.com/repos/sobrinho/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/sobrinho/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/sobrinho/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/sobrinho/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/sobrinho/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/sobrinho/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/sobrinho/rails/merges",
            "archive_url": "https://api.github.com/repos/sobrinho/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/sobrinho/rails/downloads",
            "issues_url": "https://api.github.com/repos/sobrinho/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/sobrinho/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/sobrinho/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/sobrinho/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/sobrinho/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/sobrinho/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/sobrinho/rails/deployments",
            "created_at": "2012-11-07T16:36:11Z",
            "updated_at": "2015-03-10T00:47:37Z",
            "pushed_at": "2017-12-13T01:35:39Z",
            "git_url": "git://github.com/sobrinho/rails.git",
            "ssh_url": "git@github.com:sobrinho/rails.git",
            "clone_url": "https://github.com/sobrinho/rails.git",
            "svn_url": "https://github.com/sobrinho/rails",
            "homepage": "http://rubyonrails.org",
            "size": 151962,
            "stargazers_count": 0,
            "watchers_count": 0,
            "language": "Ruby",
            "has_issues": false,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 0,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 0,
            "license": null,
            "forks": 0,
            "open_issues": 0,
            "watchers": 0,
            "default_branch": "master"
          }
        },
        "base": {
          "label": "rails:master",
          "ref": "master",
          "sha": "9d43a84f73c1b3853a91d052a462ee60eccaf957",
          "user": {
            "login": "rails",
            "id": 4223,
            "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rails",
            "html_url": "https://github.com/rails",
            "followers_url": "https://api.github.com/users/rails/followers",
            "following_url": "https://api.github.com/users/rails/following{/other_user}",
            "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
            "organizations_url": "https://api.github.com/users/rails/orgs",
            "repos_url": "https://api.github.com/users/rails/repos",
            "events_url": "https://api.github.com/users/rails/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rails/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "repo": {
            "id": 8514,
            "name": "rails",
            "full_name": "rails/rails",
            "owner": {
              "login": "rails",
              "id": 4223,
              "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/rails",
              "html_url": "https://github.com/rails",
              "followers_url": "https://api.github.com/users/rails/followers",
              "following_url": "https://api.github.com/users/rails/following{/other_user}",
              "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
              "organizations_url": "https://api.github.com/users/rails/orgs",
              "repos_url": "https://api.github.com/users/rails/repos",
              "events_url": "https://api.github.com/users/rails/events{/privacy}",
              "received_events_url": "https://api.github.com/users/rails/received_events",
              "type": "Organization",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/rails/rails",
            "description": "Ruby on Rails",
            "fork": false,
            "url": "https://api.github.com/repos/rails/rails",
            "forks_url": "https://api.github.com/repos/rails/rails/forks",
            "keys_url": "https://api.github.com/repos/rails/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/rails/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/rails/rails/teams",
            "hooks_url": "https://api.github.com/repos/rails/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/rails/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/rails/rails/events",
            "assignees_url": "https://api.github.com/repos/rails/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/rails/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/rails/rails/tags",
            "blobs_url": "https://api.github.com/repos/rails/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/rails/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/rails/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/rails/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/rails/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/rails/rails/languages",
            "stargazers_url": "https://api.github.com/repos/rails/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/rails/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/rails/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/rails/rails/subscription",
            "commits_url": "https://api.github.com/repos/rails/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/rails/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/rails/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/rails/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/rails/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/rails/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/rails/rails/merges",
            "archive_url": "https://api.github.com/repos/rails/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/rails/rails/downloads",
            "issues_url": "https://api.github.com/repos/rails/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/rails/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/rails/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/rails/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/rails/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/rails/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/rails/rails/deployments",
            "created_at": "2008-04-11T02:19:47Z",
            "updated_at": "2017-12-13T04:02:33Z",
            "pushed_at": "2017-12-13T10:29:42Z",
            "git_url": "git://github.com/rails/rails.git",
            "ssh_url": "git@github.com:rails/rails.git",
            "clone_url": "https://github.com/rails/rails.git",
            "svn_url": "https://github.com/rails/rails",
            "homepage": "http://rubyonrails.org",
            "size": 157794,
            "stargazers_count": 37952,
            "watchers_count": 37952,
            "language": "Ruby",
            "has_issues": true,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 15440,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 1110,
            "license": {
              "key": "mit",
              "name": "MIT License",
              "spdx_id": "MIT",
              "url": "https://api.github.com/licenses/mit"
            },
            "forks": 15440,
            "open_issues": 1110,
            "watchers": 37952,
            "default_branch": "master"
          }
        },
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424"
          },
          "issue": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424"
          },
          "comments": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424/comments"
          },
          "review_comments": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/comments"
          },
          "review_comment": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments{/number}"
          },
          "commits": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/commits"
          },
          "statuses": {
            "href": "https://api.github.com/repos/rails/rails/statuses/03836b992b3bee448dafa5bf8d84df0958321796"
          }
        },
        "author_association": "CONTRIBUTOR"
      }
    },
    "public": true,
    "created_at": "2017-12-13T10:51:47Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982161406",
    "type": "PullRequestReviewCommentEvent",
    "actor": {
      "id": 26460,
      "login": "sobrinho",
      "display_login": "sobrinho",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sobrinho",
      "avatar_url": "https://avatars.githubusercontent.com/u/26460?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/pulls/comments/156621589",
        "pull_request_review_id": 83127709,
        "id": 156621589,
        "diff_hunk": "@@ -64,7 +64,23 @@ def self.build_mem_cache(*addresses) # :nodoc:\n         addresses = addresses.flatten\n         options = addresses.extract_options!\n         addresses = [\"localhost:11211\"] if addresses.empty?\n-        Dalli::Client.new(addresses, options)\n+\n+        pool_options = {}\n+        pool_options[:size] = options[:pool_size] if options[:pool_size]\n+        pool_options[:timeout] = options[:pool_timeout] if options[:pool_timeout]",
        "path": "activesupport/lib/active_support/cache/mem_cache_store.rb",
        "position": 8,
        "original_position": 8,
        "commit_id": "03836b992b3bee448dafa5bf8d84df0958321796",
        "original_commit_id": "03836b992b3bee448dafa5bf8d84df0958321796",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "Well, both have the defaults of 5 and if you specify one and not specify the other, the default will be assumed, see https://github.com/mperham/connection_pool/blob/6dea06663c80cf50cd6b5a410376943d328b4f1e/lib/connection_pool.rb#L47.\r\n\r\nI think that an infinity wait is worse than defaulting to 5 because it would lock a web server thread that is not always easy to detect, a screaming exception is always easier to detect.\r\n\r\nIf you don't specify any of the two, the connection pool won't be used, as is today.\r\n\r\nWdyt?",
        "created_at": "2017-12-13T10:47:24Z",
        "updated_at": "2017-12-13T10:47:24Z",
        "html_url": "https://github.com/rails/rails/pull/31424#discussion_r156621589",
        "pull_request_url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "author_association": "CONTRIBUTOR",
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments/156621589"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424#discussion_r156621589"
          },
          "pull_request": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          }
        },
        "in_reply_to_id": 156572557
      },
      "pull_request": {
        "url": "https://api.github.com/repos/rails/rails/pulls/31424",
        "id": 157983310,
        "html_url": "https://github.com/rails/rails/pull/31424",
        "diff_url": "https://github.com/rails/rails/pull/31424.diff",
        "patch_url": "https://github.com/rails/rails/pull/31424.patch",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31424",
        "number": 31424,
        "state": "open",
        "locked": false,
        "title": "Support for connection pooling on mem cache store",
        "user": {
          "login": "sobrinho",
          "id": 26460,
          "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/sobrinho",
          "html_url": "https://github.com/sobrinho",
          "followers_url": "https://api.github.com/users/sobrinho/followers",
          "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
          "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
          "organizations_url": "https://api.github.com/users/sobrinho/orgs",
          "repos_url": "https://api.github.com/users/sobrinho/repos",
          "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
          "received_events_url": "https://api.github.com/users/sobrinho/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "This will keep Memcached connection limit under control for large-scale applications.",
        "created_at": "2017-12-13T01:37:29Z",
        "updated_at": "2017-12-13T10:47:24Z",
        "closed_at": null,
        "merged_at": null,
        "merge_commit_sha": "7b641f32f838688f2c978c98fd99c549df63063f",
        "assignee": {
          "login": "pixeltrix",
          "id": 6321,
          "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pixeltrix",
          "html_url": "https://github.com/pixeltrix",
          "followers_url": "https://api.github.com/users/pixeltrix/followers",
          "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
          "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
          "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
          "repos_url": "https://api.github.com/users/pixeltrix/repos",
          "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
          "type": "User",
          "site_admin": false
        },
        "assignees": [
          {
            "login": "pixeltrix",
            "id": 6321,
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pixeltrix",
            "html_url": "https://github.com/pixeltrix",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "type": "User",
            "site_admin": false
          }
        ],
        "requested_reviewers": [

        ],
        "milestone": null,
        "commits_url": "https://api.github.com/repos/rails/rails/pulls/31424/commits",
        "review_comments_url": "https://api.github.com/repos/rails/rails/pulls/31424/comments",
        "review_comment_url": "https://api.github.com/repos/rails/rails/pulls/comments{/number}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31424/comments",
        "statuses_url": "https://api.github.com/repos/rails/rails/statuses/03836b992b3bee448dafa5bf8d84df0958321796",
        "head": {
          "label": "sobrinho:sobrinho/connection-pool-memcache",
          "ref": "sobrinho/connection-pool-memcache",
          "sha": "03836b992b3bee448dafa5bf8d84df0958321796",
          "user": {
            "login": "sobrinho",
            "id": 26460,
            "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobrinho",
            "html_url": "https://github.com/sobrinho",
            "followers_url": "https://api.github.com/users/sobrinho/followers",
            "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
            "organizations_url": "https://api.github.com/users/sobrinho/orgs",
            "repos_url": "https://api.github.com/users/sobrinho/repos",
            "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobrinho/received_events",
            "type": "User",
            "site_admin": false
          },
          "repo": {
            "id": 6582415,
            "name": "rails",
            "full_name": "sobrinho/rails",
            "owner": {
              "login": "sobrinho",
              "id": 26460,
              "avatar_url": "https://avatars1.githubusercontent.com/u/26460?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/sobrinho",
              "html_url": "https://github.com/sobrinho",
              "followers_url": "https://api.github.com/users/sobrinho/followers",
              "following_url": "https://api.github.com/users/sobrinho/following{/other_user}",
              "gists_url": "https://api.github.com/users/sobrinho/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/sobrinho/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/sobrinho/subscriptions",
              "organizations_url": "https://api.github.com/users/sobrinho/orgs",
              "repos_url": "https://api.github.com/users/sobrinho/repos",
              "events_url": "https://api.github.com/users/sobrinho/events{/privacy}",
              "received_events_url": "https://api.github.com/users/sobrinho/received_events",
              "type": "User",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/sobrinho/rails",
            "description": "Ruby on Rails",
            "fork": true,
            "url": "https://api.github.com/repos/sobrinho/rails",
            "forks_url": "https://api.github.com/repos/sobrinho/rails/forks",
            "keys_url": "https://api.github.com/repos/sobrinho/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/sobrinho/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/sobrinho/rails/teams",
            "hooks_url": "https://api.github.com/repos/sobrinho/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/sobrinho/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/sobrinho/rails/events",
            "assignees_url": "https://api.github.com/repos/sobrinho/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/sobrinho/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/sobrinho/rails/tags",
            "blobs_url": "https://api.github.com/repos/sobrinho/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/sobrinho/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/sobrinho/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/sobrinho/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/sobrinho/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/sobrinho/rails/languages",
            "stargazers_url": "https://api.github.com/repos/sobrinho/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/sobrinho/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/sobrinho/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/sobrinho/rails/subscription",
            "commits_url": "https://api.github.com/repos/sobrinho/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/sobrinho/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/sobrinho/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/sobrinho/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/sobrinho/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/sobrinho/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/sobrinho/rails/merges",
            "archive_url": "https://api.github.com/repos/sobrinho/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/sobrinho/rails/downloads",
            "issues_url": "https://api.github.com/repos/sobrinho/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/sobrinho/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/sobrinho/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/sobrinho/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/sobrinho/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/sobrinho/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/sobrinho/rails/deployments",
            "created_at": "2012-11-07T16:36:11Z",
            "updated_at": "2015-03-10T00:47:37Z",
            "pushed_at": "2017-12-13T01:35:39Z",
            "git_url": "git://github.com/sobrinho/rails.git",
            "ssh_url": "git@github.com:sobrinho/rails.git",
            "clone_url": "https://github.com/sobrinho/rails.git",
            "svn_url": "https://github.com/sobrinho/rails",
            "homepage": "http://rubyonrails.org",
            "size": 151962,
            "stargazers_count": 0,
            "watchers_count": 0,
            "language": "Ruby",
            "has_issues": false,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 0,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 0,
            "license": null,
            "forks": 0,
            "open_issues": 0,
            "watchers": 0,
            "default_branch": "master"
          }
        },
        "base": {
          "label": "rails:master",
          "ref": "master",
          "sha": "9d43a84f73c1b3853a91d052a462ee60eccaf957",
          "user": {
            "login": "rails",
            "id": 4223,
            "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rails",
            "html_url": "https://github.com/rails",
            "followers_url": "https://api.github.com/users/rails/followers",
            "following_url": "https://api.github.com/users/rails/following{/other_user}",
            "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
            "organizations_url": "https://api.github.com/users/rails/orgs",
            "repos_url": "https://api.github.com/users/rails/repos",
            "events_url": "https://api.github.com/users/rails/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rails/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "repo": {
            "id": 8514,
            "name": "rails",
            "full_name": "rails/rails",
            "owner": {
              "login": "rails",
              "id": 4223,
              "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/rails",
              "html_url": "https://github.com/rails",
              "followers_url": "https://api.github.com/users/rails/followers",
              "following_url": "https://api.github.com/users/rails/following{/other_user}",
              "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
              "organizations_url": "https://api.github.com/users/rails/orgs",
              "repos_url": "https://api.github.com/users/rails/repos",
              "events_url": "https://api.github.com/users/rails/events{/privacy}",
              "received_events_url": "https://api.github.com/users/rails/received_events",
              "type": "Organization",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/rails/rails",
            "description": "Ruby on Rails",
            "fork": false,
            "url": "https://api.github.com/repos/rails/rails",
            "forks_url": "https://api.github.com/repos/rails/rails/forks",
            "keys_url": "https://api.github.com/repos/rails/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/rails/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/rails/rails/teams",
            "hooks_url": "https://api.github.com/repos/rails/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/rails/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/rails/rails/events",
            "assignees_url": "https://api.github.com/repos/rails/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/rails/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/rails/rails/tags",
            "blobs_url": "https://api.github.com/repos/rails/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/rails/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/rails/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/rails/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/rails/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/rails/rails/languages",
            "stargazers_url": "https://api.github.com/repos/rails/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/rails/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/rails/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/rails/rails/subscription",
            "commits_url": "https://api.github.com/repos/rails/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/rails/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/rails/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/rails/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/rails/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/rails/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/rails/rails/merges",
            "archive_url": "https://api.github.com/repos/rails/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/rails/rails/downloads",
            "issues_url": "https://api.github.com/repos/rails/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/rails/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/rails/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/rails/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/rails/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/rails/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/rails/rails/deployments",
            "created_at": "2008-04-11T02:19:47Z",
            "updated_at": "2017-12-13T04:02:33Z",
            "pushed_at": "2017-12-13T10:29:42Z",
            "git_url": "git://github.com/rails/rails.git",
            "ssh_url": "git@github.com:rails/rails.git",
            "clone_url": "https://github.com/rails/rails.git",
            "svn_url": "https://github.com/rails/rails",
            "homepage": "http://rubyonrails.org",
            "size": 157794,
            "stargazers_count": 37952,
            "watchers_count": 37952,
            "language": "Ruby",
            "has_issues": true,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 15440,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 1110,
            "license": {
              "key": "mit",
              "name": "MIT License",
              "spdx_id": "MIT",
              "url": "https://api.github.com/licenses/mit"
            },
            "forks": 15440,
            "open_issues": 1110,
            "watchers": 37952,
            "default_branch": "master"
          }
        },
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31424"
          },
          "issue": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424"
          },
          "comments": {
            "href": "https://api.github.com/repos/rails/rails/issues/31424/comments"
          },
          "review_comments": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/comments"
          },
          "review_comment": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments{/number}"
          },
          "commits": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31424/commits"
          },
          "statuses": {
            "href": "https://api.github.com/repos/rails/rails/statuses/03836b992b3bee448dafa5bf8d84df0958321796"
          }
        },
        "author_association": "CONTRIBUTOR"
      }
    },
    "public": true,
    "created_at": "2017-12-13T10:47:24Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982077609",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 7468109,
      "login": "rails-bot",
      "display_login": "rails-bot",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rails-bot",
      "avatar_url": "https://avatars.githubusercontent.com/u/7468109?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31427",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31427/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31427/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31427/events",
        "html_url": "https://github.com/rails/rails/pull/31427",
        "id": 281697915,
        "number": 31427,
        "title": "updated the readme.md file",
        "user": {
          "login": "codevedas",
          "id": 33416097,
          "avatar_url": "https://avatars3.githubusercontent.com/u/33416097?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/codevedas",
          "html_url": "https://github.com/codevedas",
          "followers_url": "https://api.github.com/users/codevedas/followers",
          "following_url": "https://api.github.com/users/codevedas/following{/other_user}",
          "gists_url": "https://api.github.com/users/codevedas/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/codevedas/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/codevedas/subscriptions",
          "organizations_url": "https://api.github.com/users/codevedas/orgs",
          "repos_url": "https://api.github.com/users/codevedas/repos",
          "events_url": "https://api.github.com/users/codevedas/events{/privacy}",
          "received_events_url": "https://api.github.com/users/codevedas/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": {
          "login": "eileencodes",
          "id": 1080678,
          "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/eileencodes",
          "html_url": "https://github.com/eileencodes",
          "followers_url": "https://api.github.com/users/eileencodes/followers",
          "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
          "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
          "organizations_url": "https://api.github.com/users/eileencodes/orgs",
          "repos_url": "https://api.github.com/users/eileencodes/repos",
          "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
          "received_events_url": "https://api.github.com/users/eileencodes/received_events",
          "type": "User",
          "site_admin": true
        },
        "assignees": [
          {
            "login": "eileencodes",
            "id": 1080678,
            "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eileencodes",
            "html_url": "https://github.com/eileencodes",
            "followers_url": "https://api.github.com/users/eileencodes/followers",
            "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
            "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
            "organizations_url": "https://api.github.com/users/eileencodes/orgs",
            "repos_url": "https://api.github.com/users/eileencodes/repos",
            "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eileencodes/received_events",
            "type": "User",
            "site_admin": true
          }
        ],
        "milestone": null,
        "comments": 0,
        "created_at": "2017-12-13T10:29:41Z",
        "updated_at": "2017-12-13T10:29:45Z",
        "closed_at": null,
        "author_association": "NONE",
        "pull_request": {
          "url": "https://api.github.com/repos/rails/rails/pulls/31427",
          "html_url": "https://github.com/rails/rails/pull/31427",
          "diff_url": "https://github.com/rails/rails/pull/31427.diff",
          "patch_url": "https://github.com/rails/rails/pull/31427.patch"
        },
        "body": "### Summary\r\n\r\nEdited the MVC Architecture as understandable i mean not too technical for a newbie.\r\nretained older license , contibution, and other links.\r\nreadme.md was too verbose and it would'nt attract newbie. so changed the file as easy go through. make rails great again.\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351350082",
        "html_url": "https://github.com/rails/rails/pull/31427#issuecomment-351350082",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31427",
        "id": 351350082,
        "user": {
          "login": "rails-bot",
          "id": 7468109,
          "avatar_url": "https://avatars0.githubusercontent.com/u/7468109?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/rails-bot",
          "html_url": "https://github.com/rails-bot",
          "followers_url": "https://api.github.com/users/rails-bot/followers",
          "following_url": "https://api.github.com/users/rails-bot/following{/other_user}",
          "gists_url": "https://api.github.com/users/rails-bot/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/rails-bot/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/rails-bot/subscriptions",
          "organizations_url": "https://api.github.com/users/rails-bot/orgs",
          "repos_url": "https://api.github.com/users/rails-bot/repos",
          "events_url": "https://api.github.com/users/rails-bot/events{/privacy}",
          "received_events_url": "https://api.github.com/users/rails-bot/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T10:29:45Z",
        "updated_at": "2017-12-13T10:29:45Z",
        "author_association": "NONE",
        "body": "Thanks for the pull request, and welcome! The Rails team is excited to review your changes, and you should hear from @eileencodes (or someone else) soon.\n\nIf any changes to this PR are deemed necessary, please add them as extra commits. This ensures that the reviewer can see what has changed since they last reviewed the code. Due to the way GitHub handles out-of-date commits, this should also make it reasonably obvious what issues have or haven't been addressed. Large or tricky changes may require several passes of review and changes.\n\nThis repository is being automatically checked for code quality issues using <a href=\"https://codeclimate.com\">Code Climate</a>. You can see results for this analysis in the PR status below. Newly introduced issues should be fixed before a Pull Request is considered ready to review.\n\nPlease see [the contribution instructions](http://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html) for more information.\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T10:29:45Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982077291",
    "type": "PullRequestEvent",
    "actor": {
      "id": 33416097,
      "login": "codevedas",
      "display_login": "codevedas",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codevedas",
      "avatar_url": "https://avatars.githubusercontent.com/u/33416097?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "opened",
      "number": 31427,
      "pull_request": {
        "url": "https://api.github.com/repos/rails/rails/pulls/31427",
        "id": 158055166,
        "html_url": "https://github.com/rails/rails/pull/31427",
        "diff_url": "https://github.com/rails/rails/pull/31427.diff",
        "patch_url": "https://github.com/rails/rails/pull/31427.patch",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31427",
        "number": 31427,
        "state": "open",
        "locked": false,
        "title": "updated the readme.md file",
        "user": {
          "login": "codevedas",
          "id": 33416097,
          "avatar_url": "https://avatars3.githubusercontent.com/u/33416097?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/codevedas",
          "html_url": "https://github.com/codevedas",
          "followers_url": "https://api.github.com/users/codevedas/followers",
          "following_url": "https://api.github.com/users/codevedas/following{/other_user}",
          "gists_url": "https://api.github.com/users/codevedas/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/codevedas/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/codevedas/subscriptions",
          "organizations_url": "https://api.github.com/users/codevedas/orgs",
          "repos_url": "https://api.github.com/users/codevedas/repos",
          "events_url": "https://api.github.com/users/codevedas/events{/privacy}",
          "received_events_url": "https://api.github.com/users/codevedas/received_events",
          "type": "User",
          "site_admin": false
        },
        "body": "### Summary\r\n\r\nEdited the MVC Architecture as understandable i mean not too technical for a newbie.\r\nretained older license , contibution, and other links.\r\nreadme.md was too verbose and it would'nt attract newbie. so changed the file as easy go through. make rails great again.\r\n",
        "created_at": "2017-12-13T10:29:41Z",
        "updated_at": "2017-12-13T10:29:41Z",
        "closed_at": null,
        "merged_at": null,
        "merge_commit_sha": null,
        "assignee": null,
        "assignees": [

        ],
        "requested_reviewers": [

        ],
        "milestone": null,
        "commits_url": "https://api.github.com/repos/rails/rails/pulls/31427/commits",
        "review_comments_url": "https://api.github.com/repos/rails/rails/pulls/31427/comments",
        "review_comment_url": "https://api.github.com/repos/rails/rails/pulls/comments{/number}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31427/comments",
        "statuses_url": "https://api.github.com/repos/rails/rails/statuses/d3a32c8c291f70098e3f2aecd0971ec98535defc",
        "head": {
          "label": "codevedas:patch-1",
          "ref": "patch-1",
          "sha": "d3a32c8c291f70098e3f2aecd0971ec98535defc",
          "user": {
            "login": "codevedas",
            "id": 33416097,
            "avatar_url": "https://avatars3.githubusercontent.com/u/33416097?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codevedas",
            "html_url": "https://github.com/codevedas",
            "followers_url": "https://api.github.com/users/codevedas/followers",
            "following_url": "https://api.github.com/users/codevedas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codevedas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codevedas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codevedas/subscriptions",
            "organizations_url": "https://api.github.com/users/codevedas/orgs",
            "repos_url": "https://api.github.com/users/codevedas/repos",
            "events_url": "https://api.github.com/users/codevedas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codevedas/received_events",
            "type": "User",
            "site_admin": false
          },
          "repo": {
            "id": 113557220,
            "name": "rails",
            "full_name": "codevedas/rails",
            "owner": {
              "login": "codevedas",
              "id": 33416097,
              "avatar_url": "https://avatars3.githubusercontent.com/u/33416097?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/codevedas",
              "html_url": "https://github.com/codevedas",
              "followers_url": "https://api.github.com/users/codevedas/followers",
              "following_url": "https://api.github.com/users/codevedas/following{/other_user}",
              "gists_url": "https://api.github.com/users/codevedas/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/codevedas/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/codevedas/subscriptions",
              "organizations_url": "https://api.github.com/users/codevedas/orgs",
              "repos_url": "https://api.github.com/users/codevedas/repos",
              "events_url": "https://api.github.com/users/codevedas/events{/privacy}",
              "received_events_url": "https://api.github.com/users/codevedas/received_events",
              "type": "User",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/codevedas/rails",
            "description": "Ruby on Rails",
            "fork": true,
            "url": "https://api.github.com/repos/codevedas/rails",
            "forks_url": "https://api.github.com/repos/codevedas/rails/forks",
            "keys_url": "https://api.github.com/repos/codevedas/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/codevedas/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/codevedas/rails/teams",
            "hooks_url": "https://api.github.com/repos/codevedas/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/codevedas/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/codevedas/rails/events",
            "assignees_url": "https://api.github.com/repos/codevedas/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/codevedas/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/codevedas/rails/tags",
            "blobs_url": "https://api.github.com/repos/codevedas/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/codevedas/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/codevedas/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/codevedas/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/codevedas/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/codevedas/rails/languages",
            "stargazers_url": "https://api.github.com/repos/codevedas/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/codevedas/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/codevedas/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/codevedas/rails/subscription",
            "commits_url": "https://api.github.com/repos/codevedas/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/codevedas/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/codevedas/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/codevedas/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/codevedas/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/codevedas/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/codevedas/rails/merges",
            "archive_url": "https://api.github.com/repos/codevedas/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/codevedas/rails/downloads",
            "issues_url": "https://api.github.com/repos/codevedas/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/codevedas/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/codevedas/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/codevedas/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/codevedas/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/codevedas/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/codevedas/rails/deployments",
            "created_at": "2017-12-08T09:31:44Z",
            "updated_at": "2017-12-08T09:32:10Z",
            "pushed_at": "2017-12-13T10:26:01Z",
            "git_url": "git://github.com/codevedas/rails.git",
            "ssh_url": "git@github.com:codevedas/rails.git",
            "clone_url": "https://github.com/codevedas/rails.git",
            "svn_url": "https://github.com/codevedas/rails",
            "homepage": "http://rubyonrails.org",
            "size": 157707,
            "stargazers_count": 0,
            "watchers_count": 0,
            "language": "Ruby",
            "has_issues": false,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 0,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 0,
            "license": null,
            "forks": 0,
            "open_issues": 0,
            "watchers": 0,
            "default_branch": "master"
          }
        },
        "base": {
          "label": "rails:master",
          "ref": "master",
          "sha": "d4007d5a54b60bd6924eeffb52c126ed32e9f31f",
          "user": {
            "login": "rails",
            "id": 4223,
            "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rails",
            "html_url": "https://github.com/rails",
            "followers_url": "https://api.github.com/users/rails/followers",
            "following_url": "https://api.github.com/users/rails/following{/other_user}",
            "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
            "organizations_url": "https://api.github.com/users/rails/orgs",
            "repos_url": "https://api.github.com/users/rails/repos",
            "events_url": "https://api.github.com/users/rails/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rails/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "repo": {
            "id": 8514,
            "name": "rails",
            "full_name": "rails/rails",
            "owner": {
              "login": "rails",
              "id": 4223,
              "avatar_url": "https://avatars1.githubusercontent.com/u/4223?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/rails",
              "html_url": "https://github.com/rails",
              "followers_url": "https://api.github.com/users/rails/followers",
              "following_url": "https://api.github.com/users/rails/following{/other_user}",
              "gists_url": "https://api.github.com/users/rails/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/rails/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/rails/subscriptions",
              "organizations_url": "https://api.github.com/users/rails/orgs",
              "repos_url": "https://api.github.com/users/rails/repos",
              "events_url": "https://api.github.com/users/rails/events{/privacy}",
              "received_events_url": "https://api.github.com/users/rails/received_events",
              "type": "Organization",
              "site_admin": false
            },
            "private": false,
            "html_url": "https://github.com/rails/rails",
            "description": "Ruby on Rails",
            "fork": false,
            "url": "https://api.github.com/repos/rails/rails",
            "forks_url": "https://api.github.com/repos/rails/rails/forks",
            "keys_url": "https://api.github.com/repos/rails/rails/keys{/key_id}",
            "collaborators_url": "https://api.github.com/repos/rails/rails/collaborators{/collaborator}",
            "teams_url": "https://api.github.com/repos/rails/rails/teams",
            "hooks_url": "https://api.github.com/repos/rails/rails/hooks",
            "issue_events_url": "https://api.github.com/repos/rails/rails/issues/events{/number}",
            "events_url": "https://api.github.com/repos/rails/rails/events",
            "assignees_url": "https://api.github.com/repos/rails/rails/assignees{/user}",
            "branches_url": "https://api.github.com/repos/rails/rails/branches{/branch}",
            "tags_url": "https://api.github.com/repos/rails/rails/tags",
            "blobs_url": "https://api.github.com/repos/rails/rails/git/blobs{/sha}",
            "git_tags_url": "https://api.github.com/repos/rails/rails/git/tags{/sha}",
            "git_refs_url": "https://api.github.com/repos/rails/rails/git/refs{/sha}",
            "trees_url": "https://api.github.com/repos/rails/rails/git/trees{/sha}",
            "statuses_url": "https://api.github.com/repos/rails/rails/statuses/{sha}",
            "languages_url": "https://api.github.com/repos/rails/rails/languages",
            "stargazers_url": "https://api.github.com/repos/rails/rails/stargazers",
            "contributors_url": "https://api.github.com/repos/rails/rails/contributors",
            "subscribers_url": "https://api.github.com/repos/rails/rails/subscribers",
            "subscription_url": "https://api.github.com/repos/rails/rails/subscription",
            "commits_url": "https://api.github.com/repos/rails/rails/commits{/sha}",
            "git_commits_url": "https://api.github.com/repos/rails/rails/git/commits{/sha}",
            "comments_url": "https://api.github.com/repos/rails/rails/comments{/number}",
            "issue_comment_url": "https://api.github.com/repos/rails/rails/issues/comments{/number}",
            "contents_url": "https://api.github.com/repos/rails/rails/contents/{+path}",
            "compare_url": "https://api.github.com/repos/rails/rails/compare/{base}...{head}",
            "merges_url": "https://api.github.com/repos/rails/rails/merges",
            "archive_url": "https://api.github.com/repos/rails/rails/{archive_format}{/ref}",
            "downloads_url": "https://api.github.com/repos/rails/rails/downloads",
            "issues_url": "https://api.github.com/repos/rails/rails/issues{/number}",
            "pulls_url": "https://api.github.com/repos/rails/rails/pulls{/number}",
            "milestones_url": "https://api.github.com/repos/rails/rails/milestones{/number}",
            "notifications_url": "https://api.github.com/repos/rails/rails/notifications{?since,all,participating}",
            "labels_url": "https://api.github.com/repos/rails/rails/labels{/name}",
            "releases_url": "https://api.github.com/repos/rails/rails/releases{/id}",
            "deployments_url": "https://api.github.com/repos/rails/rails/deployments",
            "created_at": "2008-04-11T02:19:47Z",
            "updated_at": "2017-12-13T04:02:33Z",
            "pushed_at": "2017-12-13T08:17:21Z",
            "git_url": "git://github.com/rails/rails.git",
            "ssh_url": "git@github.com:rails/rails.git",
            "clone_url": "https://github.com/rails/rails.git",
            "svn_url": "https://github.com/rails/rails",
            "homepage": "http://rubyonrails.org",
            "size": 157794,
            "stargazers_count": 37952,
            "watchers_count": 37952,
            "language": "Ruby",
            "has_issues": true,
            "has_projects": true,
            "has_downloads": true,
            "has_wiki": false,
            "has_pages": false,
            "forks_count": 15440,
            "mirror_url": null,
            "archived": false,
            "open_issues_count": 1110,
            "license": {
              "key": "mit",
              "name": "MIT License",
              "spdx_id": "MIT",
              "url": "https://api.github.com/licenses/mit"
            },
            "forks": 15440,
            "open_issues": 1110,
            "watchers": 37952,
            "default_branch": "master"
          }
        },
        "_links": {
          "self": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31427"
          },
          "html": {
            "href": "https://github.com/rails/rails/pull/31427"
          },
          "issue": {
            "href": "https://api.github.com/repos/rails/rails/issues/31427"
          },
          "comments": {
            "href": "https://api.github.com/repos/rails/rails/issues/31427/comments"
          },
          "review_comments": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31427/comments"
          },
          "review_comment": {
            "href": "https://api.github.com/repos/rails/rails/pulls/comments{/number}"
          },
          "commits": {
            "href": "https://api.github.com/repos/rails/rails/pulls/31427/commits"
          },
          "statuses": {
            "href": "https://api.github.com/repos/rails/rails/statuses/d3a32c8c291f70098e3f2aecd0971ec98535defc"
          }
        },
        "author_association": "NONE",
        "merged": false,
        "mergeable": null,
        "rebaseable": null,
        "mergeable_state": "unknown",
        "merged_by": null,
        "comments": 0,
        "review_comments": 0,
        "maintainer_can_modify": true,
        "commits": 1,
        "additions": 60,
        "deletions": 65,
        "changed_files": 1
      }
    },
    "public": true,
    "created_at": "2017-12-13T10:29:42Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6982023062",
    "type": "ForkEvent",
    "actor": {
      "id": 31365275,
      "login": "abhikanojia",
      "display_login": "abhikanojia",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abhikanojia",
      "avatar_url": "https://avatars.githubusercontent.com/u/31365275?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "forkee": {
        "id": 114106041,
        "name": "rails",
        "full_name": "abhikanojia/rails",
        "owner": {
          "login": "abhikanojia",
          "id": 31365275,
          "avatar_url": "https://avatars0.githubusercontent.com/u/31365275?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/abhikanojia",
          "html_url": "https://github.com/abhikanojia",
          "followers_url": "https://api.github.com/users/abhikanojia/followers",
          "following_url": "https://api.github.com/users/abhikanojia/following{/other_user}",
          "gists_url": "https://api.github.com/users/abhikanojia/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/abhikanojia/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/abhikanojia/subscriptions",
          "organizations_url": "https://api.github.com/users/abhikanojia/orgs",
          "repos_url": "https://api.github.com/users/abhikanojia/repos",
          "events_url": "https://api.github.com/users/abhikanojia/events{/privacy}",
          "received_events_url": "https://api.github.com/users/abhikanojia/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/abhikanojia/rails",
        "description": "Ruby on Rails",
        "fork": true,
        "url": "https://api.github.com/repos/abhikanojia/rails",
        "forks_url": "https://api.github.com/repos/abhikanojia/rails/forks",
        "keys_url": "https://api.github.com/repos/abhikanojia/rails/keys{/key_id}",
        "collaborators_url": "https://api.github.com/repos/abhikanojia/rails/collaborators{/collaborator}",
        "teams_url": "https://api.github.com/repos/abhikanojia/rails/teams",
        "hooks_url": "https://api.github.com/repos/abhikanojia/rails/hooks",
        "issue_events_url": "https://api.github.com/repos/abhikanojia/rails/issues/events{/number}",
        "events_url": "https://api.github.com/repos/abhikanojia/rails/events",
        "assignees_url": "https://api.github.com/repos/abhikanojia/rails/assignees{/user}",
        "branches_url": "https://api.github.com/repos/abhikanojia/rails/branches{/branch}",
        "tags_url": "https://api.github.com/repos/abhikanojia/rails/tags",
        "blobs_url": "https://api.github.com/repos/abhikanojia/rails/git/blobs{/sha}",
        "git_tags_url": "https://api.github.com/repos/abhikanojia/rails/git/tags{/sha}",
        "git_refs_url": "https://api.github.com/repos/abhikanojia/rails/git/refs{/sha}",
        "trees_url": "https://api.github.com/repos/abhikanojia/rails/git/trees{/sha}",
        "statuses_url": "https://api.github.com/repos/abhikanojia/rails/statuses/{sha}",
        "languages_url": "https://api.github.com/repos/abhikanojia/rails/languages",
        "stargazers_url": "https://api.github.com/repos/abhikanojia/rails/stargazers",
        "contributors_url": "https://api.github.com/repos/abhikanojia/rails/contributors",
        "subscribers_url": "https://api.github.com/repos/abhikanojia/rails/subscribers",
        "subscription_url": "https://api.github.com/repos/abhikanojia/rails/subscription",
        "commits_url": "https://api.github.com/repos/abhikanojia/rails/commits{/sha}",
        "git_commits_url": "https://api.github.com/repos/abhikanojia/rails/git/commits{/sha}",
        "comments_url": "https://api.github.com/repos/abhikanojia/rails/comments{/number}",
        "issue_comment_url": "https://api.github.com/repos/abhikanojia/rails/issues/comments{/number}",
        "contents_url": "https://api.github.com/repos/abhikanojia/rails/contents/{+path}",
        "compare_url": "https://api.github.com/repos/abhikanojia/rails/compare/{base}...{head}",
        "merges_url": "https://api.github.com/repos/abhikanojia/rails/merges",
        "archive_url": "https://api.github.com/repos/abhikanojia/rails/{archive_format}{/ref}",
        "downloads_url": "https://api.github.com/repos/abhikanojia/rails/downloads",
        "issues_url": "https://api.github.com/repos/abhikanojia/rails/issues{/number}",
        "pulls_url": "https://api.github.com/repos/abhikanojia/rails/pulls{/number}",
        "milestones_url": "https://api.github.com/repos/abhikanojia/rails/milestones{/number}",
        "notifications_url": "https://api.github.com/repos/abhikanojia/rails/notifications{?since,all,participating}",
        "labels_url": "https://api.github.com/repos/abhikanojia/rails/labels{/name}",
        "releases_url": "https://api.github.com/repos/abhikanojia/rails/releases{/id}",
        "deployments_url": "https://api.github.com/repos/abhikanojia/rails/deployments",
        "created_at": "2017-12-13T10:18:07Z",
        "updated_at": "2017-12-13T04:02:33Z",
        "pushed_at": "2017-12-13T08:17:21Z",
        "git_url": "git://github.com/abhikanojia/rails.git",
        "ssh_url": "git@github.com:abhikanojia/rails.git",
        "clone_url": "https://github.com/abhikanojia/rails.git",
        "svn_url": "https://github.com/abhikanojia/rails",
        "homepage": "http://rubyonrails.org",
        "size": 157794,
        "stargazers_count": 0,
        "watchers_count": 0,
        "language": null,
        "has_issues": false,
        "has_projects": true,
        "has_downloads": true,
        "has_wiki": false,
        "has_pages": false,
        "forks_count": 0,
        "mirror_url": null,
        "archived": false,
        "open_issues_count": 0,
        "license": null,
        "forks": 0,
        "open_issues": 0,
        "watchers": 0,
        "default_branch": "master",
        "public": true
      }
    },
    "public": true,
    "created_at": "2017-12-13T10:18:08Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6981993115",
    "type": "IssuesEvent",
    "actor": {
      "id": 379823,
      "login": "Linuus",
      "display_login": "Linuus",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Linuus",
      "avatar_url": "https://avatars.githubusercontent.com/u/379823?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "closed",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/30842",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/30842/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/30842/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/30842/events",
        "html_url": "https://github.com/rails/rails/issues/30842",
        "id": 263833076,
        "number": 30842,
        "title": "Join model not touching associated object on destroy",
        "user": {
          "login": "Linuus",
          "id": 379823,
          "avatar_url": "https://avatars2.githubusercontent.com/u/379823?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Linuus",
          "html_url": "https://github.com/Linuus",
          "followers_url": "https://api.github.com/users/Linuus/followers",
          "following_url": "https://api.github.com/users/Linuus/following{/other_user}",
          "gists_url": "https://api.github.com/users/Linuus/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Linuus/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Linuus/subscriptions",
          "organizations_url": "https://api.github.com/users/Linuus/orgs",
          "repos_url": "https://api.github.com/users/Linuus/repos",
          "events_url": "https://api.github.com/users/Linuus/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Linuus/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 5,
        "created_at": "2017-10-09T09:31:46Z",
        "updated_at": "2017-12-13T10:11:52Z",
        "closed_at": "2017-12-13T10:11:52Z",
        "author_association": "NONE",
        "body": "### Steps to reproduce\r\n\r\nRun this test case:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"arel\", github: \"rails/arel\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :sites, force: true do |t|\r\n    t.datetime :updated_at, null: false\r\n    t.datetime :created_at, null: false\r\n  end\r\n\r\n  create_table :site_publications, force: true do |t|\r\n    t.integer :site_id\r\n    t.integer :guide_id\r\n    t.datetime :updated_at, null: false\r\n    t.datetime :created_at, null: false\r\n  end\r\n\r\n  create_table :guides, force: true do |t|\r\n    t.datetime :updated_at, null: false\r\n    t.datetime :created_at, null: false\r\n  end\r\nend\r\n\r\nclass Site < ActiveRecord::Base\r\n  has_many :site_publications\r\n  has_many :guides, through: :site_publications\r\nend\r\n\r\nclass SitePublication < ActiveRecord::Base\r\n  belongs_to :site, touch: true\r\n  belongs_to :guide\r\nend\r\n\r\nclass Guide < ActiveRecord::Base\r\n  has_many :site_publications\r\n  has_many :sites, through: :site_publications\r\nend\r\n\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_touch_callbacks\r\n    site = Site.create!\r\n    Guide.create!\r\n    Guide.create!\r\n    site_updated_at = site.updated_at\r\n    site.guide_ids = [1, 2]\r\n\r\n    assert site_updated_at < site.reload.updated_at, \"Site#updated_at should have been updated when publication was created\"\r\n\r\n    site_updated_at = site.reload.updated_at\r\n    site.guide_ids = [1]\r\n\r\n    assert site_updated_at < site.reload.updated_at, \"Site#updated_at should have been updated when publication was destroyed\"\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nIt should touch the associated object on destroy. It doesn't seem to run any callbacks on destroy but it does when the join model (SitePublication in the test case) is created.\r\n\r\n### Actual behavior\r\nIt does not touch the associated object on destroy.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.7.1 (This is what I run locally, but it seems to affect master as well as seen in the test case above)\r\n\r\n**Ruby version**: 2.3.3\r\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T10:11:52Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6981993109",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 379823,
      "login": "Linuus",
      "display_login": "Linuus",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Linuus",
      "avatar_url": "https://avatars.githubusercontent.com/u/379823?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/30842",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/30842/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/30842/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/30842/events",
        "html_url": "https://github.com/rails/rails/issues/30842",
        "id": 263833076,
        "number": 30842,
        "title": "Join model not touching associated object on destroy",
        "user": {
          "login": "Linuus",
          "id": 379823,
          "avatar_url": "https://avatars2.githubusercontent.com/u/379823?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Linuus",
          "html_url": "https://github.com/Linuus",
          "followers_url": "https://api.github.com/users/Linuus/followers",
          "following_url": "https://api.github.com/users/Linuus/following{/other_user}",
          "gists_url": "https://api.github.com/users/Linuus/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Linuus/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Linuus/subscriptions",
          "organizations_url": "https://api.github.com/users/Linuus/orgs",
          "repos_url": "https://api.github.com/users/Linuus/repos",
          "events_url": "https://api.github.com/users/Linuus/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Linuus/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 4,
        "created_at": "2017-10-09T09:31:46Z",
        "updated_at": "2017-12-13T10:11:52Z",
        "closed_at": "2017-12-13T10:11:52Z",
        "author_association": "NONE",
        "body": "### Steps to reproduce\r\n\r\nRun this test case:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"arel\", github: \"rails/arel\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :sites, force: true do |t|\r\n    t.datetime :updated_at, null: false\r\n    t.datetime :created_at, null: false\r\n  end\r\n\r\n  create_table :site_publications, force: true do |t|\r\n    t.integer :site_id\r\n    t.integer :guide_id\r\n    t.datetime :updated_at, null: false\r\n    t.datetime :created_at, null: false\r\n  end\r\n\r\n  create_table :guides, force: true do |t|\r\n    t.datetime :updated_at, null: false\r\n    t.datetime :created_at, null: false\r\n  end\r\nend\r\n\r\nclass Site < ActiveRecord::Base\r\n  has_many :site_publications\r\n  has_many :guides, through: :site_publications\r\nend\r\n\r\nclass SitePublication < ActiveRecord::Base\r\n  belongs_to :site, touch: true\r\n  belongs_to :guide\r\nend\r\n\r\nclass Guide < ActiveRecord::Base\r\n  has_many :site_publications\r\n  has_many :sites, through: :site_publications\r\nend\r\n\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_touch_callbacks\r\n    site = Site.create!\r\n    Guide.create!\r\n    Guide.create!\r\n    site_updated_at = site.updated_at\r\n    site.guide_ids = [1, 2]\r\n\r\n    assert site_updated_at < site.reload.updated_at, \"Site#updated_at should have been updated when publication was created\"\r\n\r\n    site_updated_at = site.reload.updated_at\r\n    site.guide_ids = [1]\r\n\r\n    assert site_updated_at < site.reload.updated_at, \"Site#updated_at should have been updated when publication was destroyed\"\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nIt should touch the associated object on destroy. It doesn't seem to run any callbacks on destroy but it does when the join model (SitePublication in the test case) is created.\r\n\r\n### Actual behavior\r\nIt does not touch the associated object on destroy.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.7.1 (This is what I run locally, but it seems to affect master as well as seen in the test case above)\r\n\r\n**Ruby version**: 2.3.3\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351345435",
        "html_url": "https://github.com/rails/rails/issues/30842#issuecomment-351345435",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/30842",
        "id": 351345435,
        "user": {
          "login": "Linuus",
          "id": 379823,
          "avatar_url": "https://avatars2.githubusercontent.com/u/379823?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/Linuus",
          "html_url": "https://github.com/Linuus",
          "followers_url": "https://api.github.com/users/Linuus/followers",
          "following_url": "https://api.github.com/users/Linuus/following{/other_user}",
          "gists_url": "https://api.github.com/users/Linuus/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/Linuus/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/Linuus/subscriptions",
          "organizations_url": "https://api.github.com/users/Linuus/orgs",
          "repos_url": "https://api.github.com/users/Linuus/repos",
          "events_url": "https://api.github.com/users/Linuus/events{/privacy}",
          "received_events_url": "https://api.github.com/users/Linuus/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T10:11:52Z",
        "updated_at": "2017-12-13T10:11:52Z",
        "author_association": "NONE",
        "body": "Adding `dependent: :destroy` seems to fix the issue. It's a bit confusing IMO though, as it sound like the guide is destroyed :) But it works!\r\n\r\nThanks!"
      }
    },
    "public": true,
    "created_at": "2017-12-13T10:11:52Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6981892501",
    "type": "IssuesEvent",
    "actor": {
      "id": 2377,
      "login": "jdelStrother",
      "display_login": "jdelStrother",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jdelStrother",
      "avatar_url": "https://avatars.githubusercontent.com/u/2377?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "opened",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31426",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31426/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31426/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31426/events",
        "html_url": "https://github.com/rails/rails/issues/31426",
        "id": 281685765,
        "number": 31426,
        "title": "t(\"foo\", default: false) doesn't respect the default",
        "user": {
          "login": "jdelStrother",
          "id": 2377,
          "avatar_url": "https://avatars1.githubusercontent.com/u/2377?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jdelStrother",
          "html_url": "https://github.com/jdelStrother",
          "followers_url": "https://api.github.com/users/jdelStrother/followers",
          "following_url": "https://api.github.com/users/jdelStrother/following{/other_user}",
          "gists_url": "https://api.github.com/users/jdelStrother/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/jdelStrother/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/jdelStrother/subscriptions",
          "organizations_url": "https://api.github.com/users/jdelStrother/orgs",
          "repos_url": "https://api.github.com/users/jdelStrother/repos",
          "events_url": "https://api.github.com/users/jdelStrother/events{/privacy}",
          "received_events_url": "https://api.github.com/users/jdelStrother/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 0,
        "created_at": "2017-12-13T09:51:10Z",
        "updated_at": "2017-12-13T09:51:10Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "### Steps to reproduce\r\n\r\nTry to translate a key, supplying a default of `false` ( eg `t(\"foo\", default: false)`).\r\n\r\n### Expected behavior\r\n\r\nIf the translation is missing, it returns `false`\r\n\r\n### Actual behavior\r\n\r\nIf the translation is missing, it returns `<span class=\"translation_missing\" title=\"translation missing: en.false\">False</span>`\r\n\r\nThis is also demonstrated in this sample project:\r\n[rails51.zip](https://github.com/rails/rails/files/1554939/rails51.zip)\r\n\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\n5.1.4\r\n\r\n**Ruby version**:\r\n\r\n2.3.4\r\n\r\n\r\nThis appears to be a change in the i18n gem since 0.8.3 - if you downgrade to 0.8.1, `t(\"foo\", default: false)` return `false`.\r\nHowever, the problem only occurs if you use Rails `t` helper - if you go via `I18n.t(\"foo\", default: false)`, it returns false regardless of the i18n version.\r\n\r\nThis was originally filed on the i18n repo at https://github.com/svenfuchs/i18n/issues/379.\r\n"
      }
    },
    "public": true,
    "created_at": "2017-12-13T09:51:10Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6981772263",
    "type": "ForkEvent",
    "actor": {
      "id": 9665395,
      "login": "TeTiRoss",
      "display_login": "TeTiRoss",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TeTiRoss",
      "avatar_url": "https://avatars.githubusercontent.com/u/9665395?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "forkee": {
        "id": 114100513,
        "name": "rails",
        "full_name": "TeTiRoss/rails",
        "owner": {
          "login": "TeTiRoss",
          "id": 9665395,
          "avatar_url": "https://avatars2.githubusercontent.com/u/9665395?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/TeTiRoss",
          "html_url": "https://github.com/TeTiRoss",
          "followers_url": "https://api.github.com/users/TeTiRoss/followers",
          "following_url": "https://api.github.com/users/TeTiRoss/following{/other_user}",
          "gists_url": "https://api.github.com/users/TeTiRoss/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/TeTiRoss/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/TeTiRoss/subscriptions",
          "organizations_url": "https://api.github.com/users/TeTiRoss/orgs",
          "repos_url": "https://api.github.com/users/TeTiRoss/repos",
          "events_url": "https://api.github.com/users/TeTiRoss/events{/privacy}",
          "received_events_url": "https://api.github.com/users/TeTiRoss/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/TeTiRoss/rails",
        "description": "Ruby on Rails",
        "fork": true,
        "url": "https://api.github.com/repos/TeTiRoss/rails",
        "forks_url": "https://api.github.com/repos/TeTiRoss/rails/forks",
        "keys_url": "https://api.github.com/repos/TeTiRoss/rails/keys{/key_id}",
        "collaborators_url": "https://api.github.com/repos/TeTiRoss/rails/collaborators{/collaborator}",
        "teams_url": "https://api.github.com/repos/TeTiRoss/rails/teams",
        "hooks_url": "https://api.github.com/repos/TeTiRoss/rails/hooks",
        "issue_events_url": "https://api.github.com/repos/TeTiRoss/rails/issues/events{/number}",
        "events_url": "https://api.github.com/repos/TeTiRoss/rails/events",
        "assignees_url": "https://api.github.com/repos/TeTiRoss/rails/assignees{/user}",
        "branches_url": "https://api.github.com/repos/TeTiRoss/rails/branches{/branch}",
        "tags_url": "https://api.github.com/repos/TeTiRoss/rails/tags",
        "blobs_url": "https://api.github.com/repos/TeTiRoss/rails/git/blobs{/sha}",
        "git_tags_url": "https://api.github.com/repos/TeTiRoss/rails/git/tags{/sha}",
        "git_refs_url": "https://api.github.com/repos/TeTiRoss/rails/git/refs{/sha}",
        "trees_url": "https://api.github.com/repos/TeTiRoss/rails/git/trees{/sha}",
        "statuses_url": "https://api.github.com/repos/TeTiRoss/rails/statuses/{sha}",
        "languages_url": "https://api.github.com/repos/TeTiRoss/rails/languages",
        "stargazers_url": "https://api.github.com/repos/TeTiRoss/rails/stargazers",
        "contributors_url": "https://api.github.com/repos/TeTiRoss/rails/contributors",
        "subscribers_url": "https://api.github.com/repos/TeTiRoss/rails/subscribers",
        "subscription_url": "https://api.github.com/repos/TeTiRoss/rails/subscription",
        "commits_url": "https://api.github.com/repos/TeTiRoss/rails/commits{/sha}",
        "git_commits_url": "https://api.github.com/repos/TeTiRoss/rails/git/commits{/sha}",
        "comments_url": "https://api.github.com/repos/TeTiRoss/rails/comments{/number}",
        "issue_comment_url": "https://api.github.com/repos/TeTiRoss/rails/issues/comments{/number}",
        "contents_url": "https://api.github.com/repos/TeTiRoss/rails/contents/{+path}",
        "compare_url": "https://api.github.com/repos/TeTiRoss/rails/compare/{base}...{head}",
        "merges_url": "https://api.github.com/repos/TeTiRoss/rails/merges",
        "archive_url": "https://api.github.com/repos/TeTiRoss/rails/{archive_format}{/ref}",
        "downloads_url": "https://api.github.com/repos/TeTiRoss/rails/downloads",
        "issues_url": "https://api.github.com/repos/TeTiRoss/rails/issues{/number}",
        "pulls_url": "https://api.github.com/repos/TeTiRoss/rails/pulls{/number}",
        "milestones_url": "https://api.github.com/repos/TeTiRoss/rails/milestones{/number}",
        "notifications_url": "https://api.github.com/repos/TeTiRoss/rails/notifications{?since,all,participating}",
        "labels_url": "https://api.github.com/repos/TeTiRoss/rails/labels{/name}",
        "releases_url": "https://api.github.com/repos/TeTiRoss/rails/releases{/id}",
        "deployments_url": "https://api.github.com/repos/TeTiRoss/rails/deployments",
        "created_at": "2017-12-13T09:25:25Z",
        "updated_at": "2017-12-13T04:02:33Z",
        "pushed_at": "2017-12-13T08:17:21Z",
        "git_url": "git://github.com/TeTiRoss/rails.git",
        "ssh_url": "git@github.com:TeTiRoss/rails.git",
        "clone_url": "https://github.com/TeTiRoss/rails.git",
        "svn_url": "https://github.com/TeTiRoss/rails",
        "homepage": "http://rubyonrails.org",
        "size": 157794,
        "stargazers_count": 0,
        "watchers_count": 0,
        "language": null,
        "has_issues": false,
        "has_projects": true,
        "has_downloads": true,
        "has_wiki": false,
        "has_pages": false,
        "forks_count": 0,
        "mirror_url": null,
        "archived": false,
        "open_issues_count": 0,
        "license": null,
        "forks": 0,
        "open_issues": 0,
        "watchers": 0,
        "default_branch": "master",
        "public": true
      }
    },
    "public": true,
    "created_at": "2017-12-13T09:25:25Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6981705801",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 1034,
      "login": "matthewd",
      "display_login": "matthewd",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewd",
      "avatar_url": "https://avatars.githubusercontent.com/u/1034?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 8,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T09:10:31Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351329066",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351329066",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351329066,
        "user": {
          "login": "matthewd",
          "id": 1034,
          "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/matthewd",
          "html_url": "https://github.com/matthewd",
          "followers_url": "https://api.github.com/users/matthewd/followers",
          "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
          "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
          "organizations_url": "https://api.github.com/users/matthewd/orgs",
          "repos_url": "https://api.github.com/users/matthewd/repos",
          "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
          "received_events_url": "https://api.github.com/users/matthewd/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T09:10:31Z",
        "updated_at": "2017-12-13T09:10:31Z",
        "author_association": "OWNER",
        "body": "If you describe the problem you're actually trying to solve by creating 1000s of AR::Base subclasses, I might be able to offer an opinion. Right now \"don't do that\" is definitely a front-runner."
      }
    },
    "public": true,
    "created_at": "2017-12-13T09:10:31Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6981689597",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 8155,
      "login": "ebeigarts",
      "display_login": "ebeigarts",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ebeigarts",
      "avatar_url": "https://avatars.githubusercontent.com/u/8155?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 7,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T09:06:50Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351328143",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351328143",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351328143,
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T09:06:50Z",
        "updated_at": "2017-12-13T09:06:50Z",
        "author_association": "CONTRIBUTOR",
        "body": "@matthewd so what are you suggesting we do with this?\r\n\r\nAnother idea - How about if we change `DescendantsTracker` to store `klass.object_id` instead of `klass` and use something like `ObjectSpace._id2ref(object_id)` to get the class and check if it is still alive (not garbage collected), the `DescendantsTracker` could be a bit slower, but this could fix the leaks. WDYT?"
      }
    },
    "public": true,
    "created_at": "2017-12-13T09:06:50Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  },
  {
    "id": "6981649920",
    "type": "IssueCommentEvent",
    "actor": {
      "id": 1034,
      "login": "matthewd",
      "display_login": "matthewd",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewd",
      "avatar_url": "https://avatars.githubusercontent.com/u/1034?"
    },
    "repo": {
      "id": 8514,
      "name": "rails/rails",
      "url": "https://api.github.com/repos/rails/rails"
    },
    "payload": {
      "action": "created",
      "issue": {
        "url": "https://api.github.com/repos/rails/rails/issues/31395",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/31395/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/31395/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/31395/events",
        "html_url": "https://github.com/rails/rails/issues/31395",
        "id": 280935969,
        "number": 31395,
        "title": "Anonymous ActiveRecord classes leak memory",
        "user": {
          "login": "ebeigarts",
          "id": 8155,
          "avatar_url": "https://avatars3.githubusercontent.com/u/8155?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ebeigarts",
          "html_url": "https://github.com/ebeigarts",
          "followers_url": "https://api.github.com/users/ebeigarts/followers",
          "following_url": "https://api.github.com/users/ebeigarts/following{/other_user}",
          "gists_url": "https://api.github.com/users/ebeigarts/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ebeigarts/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ebeigarts/subscriptions",
          "organizations_url": "https://api.github.com/users/ebeigarts/orgs",
          "repos_url": "https://api.github.com/users/ebeigarts/repos",
          "events_url": "https://api.github.com/users/ebeigarts/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ebeigarts/received_events",
          "type": "User",
          "site_admin": false
        },
        "labels": [

        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [

        ],
        "milestone": null,
        "comments": 6,
        "created_at": "2017-12-11T08:45:39Z",
        "updated_at": "2017-12-13T08:57:46Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Anonymous ActiveRecord classes (`Class.new(ActiveRecord::Base)`) are not garbage collected.\r\n\r\n```\r\nrails c\r\nLoading development environment (Rails 5.1.4)\r\n[1] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n1003\r\n[2] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n2003\r\n[3] pry(main)> nil; 1000.times { Class.new(ActiveRecord::Base) }; GC.start(full_mark: true); ActiveRecord::Base.descendants.size\r\n3003\r\n```\r\n\r\nI have now discovered that anonymous classes are not supported #9002, but I can still create those classes without calling `establish_connection` on the child class.\r\n\r\n```\r\n> k = Class.new(ActiveRecord::Base); k.table_name = \"users\"; k.count\r\n(1.0ms)  SELECT COUNT(*) FROM \"users\"\r\n3216\r\n```\r\n\r\nA lot of rails test cases use anonymous classes, and this is the place I have learned to use them.\r\n\r\n```\r\ncd rails\r\nack 'Class.new\\(ActiveRecord::Base\\)' | wc -l\r\n     125\r\n```\r\n\r\nSuggestions:\r\n\r\n1. Do not use anonymous AR classes in rails test suite to avoid people learning to use them.\r\n2. Raise exceptions when executing queries on anonymous classes, not just `establish_connection`.\r\n3. Document this somewhere in the guides.\r\n\r\nOr maybe we can fix the leak? Maybe someone already knows the place where it leaks?\r\n"
      },
      "comment": {
        "url": "https://api.github.com/repos/rails/rails/issues/comments/351325878",
        "html_url": "https://github.com/rails/rails/issues/31395#issuecomment-351325878",
        "issue_url": "https://api.github.com/repos/rails/rails/issues/31395",
        "id": 351325878,
        "user": {
          "login": "matthewd",
          "id": 1034,
          "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/matthewd",
          "html_url": "https://github.com/matthewd",
          "followers_url": "https://api.github.com/users/matthewd/followers",
          "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
          "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
          "organizations_url": "https://api.github.com/users/matthewd/orgs",
          "repos_url": "https://api.github.com/users/matthewd/repos",
          "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
          "received_events_url": "https://api.github.com/users/matthewd/received_events",
          "type": "User",
          "site_admin": false
        },
        "created_at": "2017-12-13T08:57:46Z",
        "updated_at": "2017-12-13T08:57:46Z",
        "author_association": "OWNER",
        "body": "Whether a class has a name has only a superficial relationship to whether it's going to \"leak memory\" -- the descendants tracker tracks all descendants. It's slightly more likely that an anonymous subclass will later go away, but not necessarily true: it might even be assigned to a constant at some later point.\r\n\r\nLikewise, the existing exception has nothing to do with this \"leak\" -- there are other places we depend on a class having a name, for other reasons, and that's one of them."
      }
    },
    "public": true,
    "created_at": "2017-12-13T08:57:47Z",
    "org": {
      "id": 4223,
      "login": "rails",
      "gravatar_id": "",
      "url": "https://api.github.com/orgs/rails",
      "avatar_url": "https://avatars.githubusercontent.com/u/4223?"
    }
  }
]
